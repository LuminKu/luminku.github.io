<!DOCTYPE html>
<html data-color-mode="light" data-dark-theme="dark" data-light-theme="light" lang="zh-CN">
<head>
    <meta content="text/html; charset=utf-8" http-equiv="content-type" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <link href='https://mirrors.sustech.edu.cn/cdnjs/ajax/libs/Primer/21.0.7/primer.css' rel='stylesheet' />
    
    <link rel="icon" href="https://avatars.githubusercontent.com/u/240149665?v=4"><script>
        let theme = localStorage.getItem("meek_theme") || "light";
        document.documentElement.setAttribute("data-color-mode", theme);
    </script>
<meta name="description" content="> 
> æˆ‘ä»¬ä»ä¸€ä¸ªç”¨æˆ·ç‚¹å‡»æäº¤æŒ‰é’®å¼€å§‹ï¼Œç›´åˆ°æ”¶åˆ°å“åº”ä¸ºæ­¢ï¼Œè¯¦ç»†å‰–ææ•´ä¸ªè¿‡ç¨‹ä¸­çš„åº•å±‚åŸç†ã€‚">
<meta property="og:title" content="HTTPè¯·æ±‚å®Œæ•´ç”Ÿå‘½å‘¨æœŸï¼šä»ç‚¹å‡»åˆ°å“åº”çš„æ·±åº¦å‰–æ">
<meta property="og:description" content="> 
> æˆ‘ä»¬ä»ä¸€ä¸ªç”¨æˆ·ç‚¹å‡»æäº¤æŒ‰é’®å¼€å§‹ï¼Œç›´åˆ°æ”¶åˆ°å“åº”ä¸ºæ­¢ï¼Œè¯¦ç»†å‰–ææ•´ä¸ªè¿‡ç¨‹ä¸­çš„åº•å±‚åŸç†ã€‚">
<meta property="og:type" content="article">
<meta property="og:url" content="https://luminku.github.io/post/HTTP-qing-qiu-wan-zheng-sheng-ming-zhou-qi-%EF%BC%9A-cong-dian-ji-dao-xiang-ying-de-shen-du-pou-xi.html">
<meta property="og:image" content="https://avatars.githubusercontent.com/u/240149665?v=4">
<title>HTTPè¯·æ±‚å®Œæ•´ç”Ÿå‘½å‘¨æœŸï¼šä»ç‚¹å‡»åˆ°å“åº”çš„æ·±åº¦å‰–æ</title>
<link href="//unpkg.com/@wooorm/starry-night@2.1.1/style/both.css" rel="stylesheet" />


</head>
<style>
body{box-sizing: border-box;min-width: 200px;max-width: 900px;margin: 20px auto;padding: 45px;font-size: 16px;font-family: sans-serif;line-height: 1.25;}
#header{display:flex;padding-bottom:8px;border-bottom: 1px solid var(--borderColor-muted, var(--color-border-muted));margin-bottom: 16px;}
#footer {margin-top:64px; text-align: center;font-size: small;}

</style>

<style>
.postTitle{margin: auto 0;font-size:40px;font-weight:bold;}
.title-right{display:flex;margin:auto 0 0 auto;}
.title-right .circle{padding: 14px 16px;margin-right:8px;}
#postBody{border-bottom: 1px solid var(--color-border-default);padding-bottom:36px;}
#postBody hr{height:2px;}
#cmButton{height:48px;margin-top:48px;}
#comments{margin-top:64px;}
.g-emoji{font-size:24px;}
@media (max-width: 600px) {
    body {padding: 8px;}
    .postTitle{font-size:24px;}
}
.copy-feedback {
    display: none;
    position: absolute;
    top: 10px;
    right: 50px;
    color: var(--color-fg-on-emphasis);
    background-color: var(--color-fg-muted);
    border-radius: 3px;
    padding: 5px 8px;
    font-size: 12px;
}
</style>




<body>
    <div id="header">
<h1 class="postTitle">HTTPè¯·æ±‚å®Œæ•´ç”Ÿå‘½å‘¨æœŸï¼šä»ç‚¹å‡»åˆ°å“åº”çš„æ·±åº¦å‰–æ</h1>
<div class="title-right">
    <a href="https://luminku.github.io" id="buttonHome" class="btn btn-invisible circle" title="é¦–é¡µ">
        <svg class="octicon" width="16" height="16">
            <path id="pathHome" fill-rule="evenodd"></path>
        </svg>
    </a>
    
    <a href="https://github.com/LuminKu/luminku.github.io/issues/8" target="_blank" class="btn btn-invisible circle" title="Issue">
        <svg class="octicon" width="16" height="16">
            <path id="pathIssue" fill-rule="evenodd"></path>
        </svg>
    </a>
    

    <a class="btn btn-invisible circle" onclick="modeSwitch();" title="åˆ‡æ¢ä¸»é¢˜">
        <svg class="octicon" width="16" height="16" >
            <path id="themeSwitch" fill-rule="evenodd"></path>
        </svg>
    </a>

</div>
</div>
    <div id="content">
<div class="markdown-body" id="postBody"><blockquote>
<p>æˆ‘ä»¬ä»ä¸€ä¸ªç”¨æˆ·ç‚¹å‡»æäº¤æŒ‰é’®å¼€å§‹ï¼Œç›´åˆ°æ”¶åˆ°å“åº”ä¸ºæ­¢ï¼Œè¯¦ç»†å‰–ææ•´ä¸ªè¿‡ç¨‹ä¸­çš„åº•å±‚åŸç†ã€‚è¿™ä¸ªè¿‡ç¨‹æ¶‰åŠæ“ä½œç³»ç»Ÿã€è®¡ç®—æœºç½‘ç»œã€æµè§ˆå™¨å¼•æ“ã€æœåŠ¡å™¨å¤„ç†ç­‰å¤šä¸ªå±‚é¢ã€‚</p>
<p>æ­¥éª¤æ¦‚è§ˆï¼š</p>
<ol>
<li>ç”¨æˆ·ç‚¹å‡»æäº¤æŒ‰é’®ï¼Œè§¦å‘JavaScriptäº‹ä»¶ã€‚</li>
<li>Axiosåº“å°†è¯·æ±‚å°è£…æˆXMLHttpRequestæˆ–Fetch APIï¼ˆç°ä»£æµè§ˆå™¨ï¼‰å‘é€ã€‚</li>
<li>æµè§ˆå™¨è§£æURLï¼Œæ„é€ HTTPè¯·æ±‚ã€‚</li>
<li>æµè§ˆå™¨æŸ¥è¯¢DNSï¼Œå°†åŸŸåè§£æä¸ºIPåœ°å€ã€‚</li>
<li>æµè§ˆå™¨ä¸æœåŠ¡å™¨å»ºç«‹TCPè¿æ¥ï¼ˆå¯èƒ½ç»è¿‡TLSåŠ å¯†ï¼‰ã€‚</li>
<li>æµè§ˆå™¨å‘é€HTTPè¯·æ±‚ã€‚</li>
<li>æœåŠ¡å™¨å¤„ç†è¯·æ±‚ï¼ˆSpringBootåº”ç”¨ï¼‰ã€‚</li>
<li>æœåŠ¡å™¨è¿”å›HTTPå“åº”ã€‚</li>
<li>æµè§ˆå™¨æ¥æ”¶å“åº”ï¼Œè§£æå†…å®¹ã€‚</li>
<li>æµè§ˆå™¨è§¦å‘å›è°ƒå‡½æ•°ï¼Œæ›´æ–°é¡µé¢ã€‚</li>
</ol>
<p>ä¸‹é¢æˆ‘ä»¬è¯¦ç»†è®²è§£æ¯ä¸ªæ­¥éª¤ã€‚</p>
<h2>1. ç”¨æˆ·ç‚¹å‡»æäº¤æŒ‰é’®</h2>
<p>ç”¨æˆ·ç‚¹å‡»æŒ‰é’®ï¼Œè§¦å‘ä¸€ä¸ªJavaScriptäº‹ä»¶ã€‚ä¾‹å¦‚ï¼š</p>
<p>javascript</p>
<pre class="notranslate"><code class="notranslate">document.getElementById('submitBtn').addEventListener('click', function() {
    // ä½¿ç”¨Axioså‘é€è¯·æ±‚
    axios.post('/api/submit', data)
        .then(response =&gt; {
            // å¤„ç†å“åº”
        })
        .catch(error =&gt; {
            // å¤„ç†é”™è¯¯
        });
});
</code></pre>
<h2>2. Axioså‘é€è¯·æ±‚</h2>
<p>Axiosæ˜¯ä¸€ä¸ªåŸºäºPromiseçš„HTTPå®¢æˆ·ç«¯ï¼Œå®ƒå¯ä»¥ç”¨åœ¨æµè§ˆå™¨å’ŒNode.jsä¸­ã€‚åœ¨æµè§ˆå™¨ä¸­ï¼Œå®ƒä½¿ç”¨XMLHttpRequestæˆ–Fetch APIï¼ˆæ ¹æ®ç¯å¢ƒæ”¯æŒï¼‰æ¥å‘é€è¯·æ±‚ã€‚</p>
<p>ä»¥XMLHttpRequestä¸ºä¾‹ï¼ŒAxiosä¼šåˆ›å»ºä¸€ä¸ªXMLHttpRequestå®ä¾‹ï¼Œé…ç½®è¯·æ±‚æ–¹æ³•ã€URLã€å¤´éƒ¨å’Œè¯·æ±‚ä½“ï¼Œç„¶åå‘é€è¯·æ±‚ã€‚</p>
<p>ä½†æ˜¯ï¼Œç°ä»£æµè§ˆå™¨æ›´æ¨èä½¿ç”¨Fetch APIï¼Œå®ƒæ˜¯æ›´ç°ä»£ã€åŠŸèƒ½æ›´å¼ºå¤§çš„æ›¿ä»£å“ã€‚Axiosåœ¨æµè§ˆå™¨ä¸­å¯èƒ½ä¼šæ ¹æ®æƒ…å†µé€‰æ‹©ä½¿ç”¨XMLHttpRequestæˆ–Fetch APIã€‚</p>
<h2>3. æµè§ˆå™¨è§£æURL</h2>
<p>æµè§ˆå™¨è§£æURLï¼Œç¡®å®šåè®®ã€ä¸»æœºã€ç«¯å£å’Œè·¯å¾„ã€‚å¦‚æœURLä¸åˆæ³•ï¼Œæµè§ˆå™¨ä¼šæŠ¥é”™ã€‚</p>
<h2>4. DNSæŸ¥è¯¢</h2>
<p>æµè§ˆå™¨æ£€æŸ¥åŸŸåæ˜¯å¦åœ¨ç¼“å­˜ä¸­ï¼ˆæµè§ˆå™¨ç¼“å­˜ã€æ“ä½œç³»ç»Ÿç¼“å­˜ã€hostsæ–‡ä»¶ç­‰ï¼‰ï¼Œå¦‚æœæ²¡æœ‰ï¼Œåˆ™å‘é…ç½®çš„DNSæœåŠ¡å™¨å‘é€DNSæŸ¥è¯¢è¯·æ±‚ã€‚</p>
<p>DNSæŸ¥è¯¢è¿‡ç¨‹ï¼š</p>
<ul>
<li>æµè§ˆå™¨ç¼“å­˜ -&gt; æ“ä½œç³»ç»Ÿç¼“å­˜ -&gt; æœ¬åœ°DNSæœåŠ¡å™¨ -&gt; é€’å½’æŸ¥è¯¢ -&gt; æ ¹DNS -&gt; é¡¶çº§åŸŸDNS -&gt; æƒå¨DNS<br>
æœ€ç»ˆè·å¾—ç›®æ ‡æœåŠ¡å™¨çš„IPåœ°å€ã€‚</li>
</ul>
<h2>5. å»ºç«‹TCPè¿æ¥</h2>
<p>æµè§ˆå™¨ä½¿ç”¨æ“ä½œç³»ç»Ÿçš„Socket APIï¼Œä¸æœåŠ¡å™¨IPåœ°å€å’Œç«¯å£ï¼ˆHTTPé»˜è®¤80ï¼ŒHTTPSé»˜è®¤443ï¼‰å»ºç«‹TCPè¿æ¥ã€‚</p>
<p>å»ºç«‹TCPè¿æ¥éœ€è¦ä¸‰æ¬¡æ¡æ‰‹ï¼š</p>
<ul>
<li>å®¢æˆ·ç«¯å‘é€SYNåŒ…åˆ°æœåŠ¡å™¨ï¼Œåºåˆ—å·ä¸ºéšæœºæ•°xã€‚</li>
<li>æœåŠ¡å™¨è¿”å›SYN-ACKåŒ…ï¼Œåºåˆ—å·ä¸ºéšæœºæ•°yï¼Œç¡®è®¤å·ä¸ºx+1ã€‚</li>
<li>å®¢æˆ·ç«¯å‘é€ACKåŒ…ï¼Œç¡®è®¤å·ä¸ºy+1ã€‚</li>
</ul>
<p>å¦‚æœæ˜¯HTTPSï¼Œåœ¨TCPè¿æ¥å»ºç«‹åï¼Œè¿˜éœ€è¦è¿›è¡ŒTLSæ¡æ‰‹ï¼š</p>
<ul>
<li>å®¢æˆ·ç«¯å‘é€ClientHelloï¼ŒåŒ…å«æ”¯æŒçš„TLSç‰ˆæœ¬ã€åŠ å¯†å¥—ä»¶ã€éšæœºæ•°ç­‰ã€‚</li>
<li>æœåŠ¡å™¨è¿”å›ServerHelloï¼Œç¡®è®¤TLSç‰ˆæœ¬ã€åŠ å¯†å¥—ä»¶ã€éšæœºæ•°ï¼Œå¹¶å‘é€è¯ä¹¦ã€‚</li>
<li>å®¢æˆ·ç«¯éªŒè¯è¯ä¹¦ï¼Œç”Ÿæˆé¢„ä¸»å¯†é’¥ï¼Œç”¨æœåŠ¡å™¨å…¬é’¥åŠ å¯†åå‘é€ã€‚</li>
<li>æœåŠ¡å™¨ç”¨ç§é’¥è§£å¯†å¾—åˆ°é¢„ä¸»å¯†é’¥ï¼ŒåŒæ–¹æ ¹æ®éšæœºæ•°å’Œé¢„ä¸»å¯†é’¥ç”Ÿæˆä¼šè¯å¯†é’¥ã€‚</li>
<li>åç»­é€šä¿¡ä½¿ç”¨å¯¹ç§°åŠ å¯†ã€‚</li>
</ul>
<h2>6. æµè§ˆå™¨å‘é€HTTPè¯·æ±‚</h2>
<p>æµè§ˆå™¨å°†è¯·æ±‚å°è£…æˆHTTPæŠ¥æ–‡ï¼Œé€šè¿‡TCPè¿æ¥å‘é€ã€‚HTTPæŠ¥æ–‡åŒ…æ‹¬ï¼š</p>
<ul>
<li>è¯·æ±‚è¡Œï¼ˆæ–¹æ³•ã€URLã€åè®®ç‰ˆæœ¬ï¼‰</li>
<li>è¯·æ±‚å¤´ï¼ˆå¦‚Content-Typeã€Cookieã€User-Agentç­‰ï¼‰</li>
<li>ç©ºè¡Œ</li>
<li>è¯·æ±‚ä½“ï¼ˆå¦‚æœæœ‰ï¼‰</li>
</ul>
<p>ä¾‹å¦‚ï¼š</p>
<p>text</p>
<pre class="notranslate"><code class="notranslate">POST /api/submit HTTP/1.1
Host: example.com
Content-Type: application/json
Cookie: name=value

{"key":"value"}
</code></pre>
<h2>7. æœåŠ¡å™¨å¤„ç†è¯·æ±‚</h2>
<p>è¯·æ±‚åˆ°è¾¾æœåŠ¡å™¨ï¼Œç»è¿‡ç½‘ç»œæ ˆï¼ˆæ“ä½œç³»ç»Ÿå±‚é¢ï¼‰åˆ°è¾¾ç›‘å¬å¯¹åº”ç«¯å£çš„è¿›ç¨‹ï¼ˆå¦‚SpringBootåº”ç”¨ï¼‰ã€‚</p>
<p>SpringBootå†…åµŒçš„TomcatæœåŠ¡å™¨ä¼šå¤„ç†è¿™ä¸ªè¿æ¥ï¼š</p>
<ul>
<li>Tomcatä»Socketä¸­è¯»å–æ•°æ®ï¼Œè§£æHTTPè¯·æ±‚ï¼Œå°è£…æˆHttpServletRequestå¯¹è±¡ã€‚</li>
<li>æ ¹æ®URLæ˜ å°„åˆ°å¯¹åº”çš„Controlleræ–¹æ³•ã€‚</li>
<li>æ‰§è¡Œæ–¹æ³•ï¼Œå¤„ç†ä¸šåŠ¡é€»è¾‘ï¼Œè®¿é—®æ•°æ®åº“ç­‰ã€‚</li>
<li>å°†è¿”å›ç»“æœå°è£…æˆHttpServletResponseï¼Œç„¶åè½¬æ¢æˆHTTPå“åº”æŠ¥æ–‡ã€‚</li>
</ul>
<h2>8. æœåŠ¡å™¨è¿”å›HTTPå“åº”</h2>
<p>æœåŠ¡å™¨å°†HTTPå“åº”æŠ¥æ–‡é€šè¿‡TCPè¿æ¥å‘é€å›æµè§ˆå™¨ã€‚HTTPå“åº”æŠ¥æ–‡åŒ…æ‹¬ï¼š</p>
<ul>
<li>çŠ¶æ€è¡Œï¼ˆåè®®ç‰ˆæœ¬ã€çŠ¶æ€ç ã€çŠ¶æ€æè¿°ï¼‰</li>
<li>å“åº”å¤´ï¼ˆå¦‚Content-Typeã€Set-Cookieç­‰ï¼‰</li>
<li>ç©ºè¡Œ</li>
<li>å“åº”ä½“ï¼ˆå¦‚HTMLã€JSONç­‰ï¼‰</li>
</ul>
<p>ä¾‹å¦‚ï¼š</p>
<p>text</p>
<pre class="notranslate"><code class="notranslate">HTTP/1.1 200 OK
Content-Type: application/json
Set-Cookie: name=value

{"status":"success"}
</code></pre>
<h2>9. æµè§ˆå™¨æ¥æ”¶å“åº”</h2>
<p>æµè§ˆå™¨ä»TCPè¿æ¥ä¸­è¯»å–æ•°æ®ï¼Œè§£æHTTPå“åº”ã€‚æ ¹æ®å“åº”å¤´ä¸­çš„Content-Typeå†³å®šå¦‚ä½•å¤„ç†å“åº”ä½“ã€‚</p>
<p>å¦‚æœå“åº”æ˜¯HTMLï¼Œæµè§ˆå™¨ä¼šè§£æHTMLï¼Œæ„å»ºDOMæ ‘ï¼Œç„¶ååŠ è½½å¼•ç”¨çš„CSSã€JavaScriptã€å›¾ç‰‡ç­‰èµ„æºï¼Œè¿›è¡Œæ¸²æŸ“ã€‚<br>
å¦‚æœå“åº”æ˜¯JSONï¼Œæµè§ˆå™¨ä¼šè§¦å‘XMLHttpRequestæˆ–Fetchçš„å›è°ƒï¼Œå°†JSONæ•°æ®ä¼ é€’ç»™JavaScriptã€‚</p>
<h2>10. æµè§ˆå™¨è§¦å‘å›è°ƒå‡½æ•°ï¼Œæ›´æ–°é¡µé¢</h2>
<p>åœ¨Axiosçš„thenå›è°ƒä¸­ï¼Œæˆ‘ä»¬å¯ä»¥è·å–åˆ°å“åº”æ•°æ®ï¼Œç„¶åä½¿ç”¨JavaScriptæ›´æ–°é¡µé¢å†…å®¹ã€‚</p>
<h2>åº•å±‚æŠ€æœ¯ç»†èŠ‚</h2>
<h3>æµè§ˆå™¨ä¸­çš„ç½‘ç»œè¯·æ±‚å®ç°</h3>
<p>æµè§ˆå™¨ä½¿ç”¨å¤šè¿›ç¨‹æ¶æ„ï¼ŒåŒ…æ‹¬æµè§ˆå™¨è¿›ç¨‹ã€æ¸²æŸ“è¿›ç¨‹ã€GPUè¿›ç¨‹ã€ç½‘ç»œè¿›ç¨‹ç­‰ã€‚ç½‘ç»œè¯·æ±‚ä¸»è¦ç”±ç½‘ç»œè¿›ç¨‹è´Ÿè´£ã€‚</p>
<p>å½“æ¸²æŸ“è¿›ç¨‹ä¸­çš„JavaScriptä»£ç å‘èµ·ç½‘ç»œè¯·æ±‚æ—¶ï¼Œä¼šé€šè¿‡è¿›ç¨‹é—´é€šä¿¡ï¼ˆIPCï¼‰å°†è¯·æ±‚å‘é€ç»™ç½‘ç»œè¿›ç¨‹ã€‚ç½‘ç»œè¿›ç¨‹è´Ÿè´£DNSæŸ¥è¯¢ã€å»ºç«‹TCPè¿æ¥ã€å‘é€HTTPè¯·æ±‚ã€æ¥æ”¶å“åº”ç­‰ã€‚</p>
<h3>æ“ä½œç³»ç»Ÿä¸­çš„ç½‘ç»œæ ˆ</h3>
<p>æ“ä½œç³»ç»Ÿçš„ç½‘ç»œæ ˆåŒ…æ‹¬ï¼š</p>
<ul>
<li>Socketå±‚ï¼šæä¾›Socket APIç»™åº”ç”¨ç¨‹åºã€‚</li>
<li>TCP/UDPå±‚ï¼šå®ç°ä¼ è¾“å±‚åè®®ã€‚</li>
<li>IPå±‚ï¼šå®ç°ç½‘ç»œå±‚åè®®ï¼Œè´Ÿè´£è·¯ç”±å’Œå¯»å€ã€‚</li>
<li>æ•°æ®é“¾è·¯å±‚ï¼šå¦‚ä»¥å¤ªç½‘åè®®ã€‚</li>
<li>ç‰©ç†å±‚ï¼šç½‘å¡ã€ç½‘çº¿ç­‰ç¡¬ä»¶ã€‚</li>
</ul>
<p>å½“æµè§ˆå™¨è°ƒç”¨Socket APIå‘é€æ•°æ®æ—¶ï¼Œæ•°æ®ä¼šç»è¿‡æ“ä½œç³»ç»Ÿçš„ç½‘ç»œæ ˆï¼Œè¢«å°è£…æˆTCPæ®µã€IPåŒ…ã€ä»¥å¤ªç½‘å¸§ï¼Œç„¶åé€šè¿‡ç½‘å¡å‘é€åˆ°ç½‘ç»œã€‚</p>
<h3>ç¡¬ä»¶å±‚é¢</h3>
<p>ç½‘å¡å°†æ•°å­—ä¿¡å·è½¬æ¢æˆç”µä¿¡å·æˆ–å…‰ä¿¡å·ï¼Œé€šè¿‡ç‰©ç†ä»‹è´¨ï¼ˆå¦‚ç½‘çº¿ã€å…‰çº¤ï¼‰ä¼ è¾“ã€‚ç»è¿‡è·¯ç”±å™¨ã€äº¤æ¢æœºç­‰ç½‘ç»œè®¾å¤‡ï¼Œæœ€ç»ˆåˆ°è¾¾æœåŠ¡å™¨ã€‚</p>
<p>æœåŠ¡å™¨ç½‘å¡æ¥æ”¶åˆ°ä¿¡å·ï¼Œè½¬æ¢æˆæ•°å­—æ•°æ®ï¼Œç„¶åé€šè¿‡æ“ä½œç³»ç»Ÿçš„ç½‘ç»œæ ˆå‘ä¸Šä¼ é€’åˆ°åº”ç”¨ç¨‹åºã€‚</p>
<h2>å›¾æ–‡ç»“åˆ</h2>
<p>ç”±äºæ–‡æœ¬é™åˆ¶ï¼Œæˆ‘æ— æ³•ç›´æ¥ç»˜åˆ¶å›¾ç‰‡ï¼Œä½†å¯ä»¥æè¿°ä¸€ä¸ªå…¸å‹çš„æµç¨‹å›¾ï¼š</p>
<p>text</p>
<pre class="notranslate"><code class="notranslate">ç”¨æˆ·ç‚¹å‡»
   |
   v
JavaScriptäº‹ä»¶å¤„ç†
   |
   v
Axioså°è£…è¯·æ±‚
   |
   v
æµè§ˆå™¨è§£æURL
   |
   v
DNSæŸ¥è¯¢
   |
   v
å»ºç«‹TCPè¿æ¥ï¼ˆä¸‰æ¬¡æ¡æ‰‹ï¼‰
   |
   v
TLSæ¡æ‰‹ï¼ˆå¦‚æœæ˜¯HTTPSï¼‰
   |
   v
å‘é€HTTPè¯·æ±‚
   |
   v
æœåŠ¡å™¨å¤„ç†è¯·æ±‚ï¼ˆSpringBootï¼‰
   |
   v
æœåŠ¡å™¨è¿”å›HTTPå“åº”
   |
   v
æµè§ˆå™¨è§£æå“åº”
   |
   v
è§¦å‘å›è°ƒï¼Œæ›´æ–°é¡µé¢
</code></pre>
<p>æ¯ä¸ªæ­¥éª¤éƒ½æ¶‰åŠå¤æ‚çš„åº•å±‚æŠ€æœ¯ï¼Œä»åº”ç”¨ç¨‹åºä»£ç åˆ°æ“ä½œç³»ç»Ÿå†…æ ¸ï¼Œå†åˆ°ç¡¬ä»¶è®¾å¤‡ã€‚</p>
<h2>æ¡ˆä¾‹ï¼šAxiosè°ƒç”¨æµè§ˆå™¨API</h2>
<p>æˆ‘ä»¬ä»¥Axiosä½¿ç”¨XMLHttpRequestä¸ºä¾‹ï¼ˆè™½ç„¶Axioså¯èƒ½ä½¿ç”¨Fetchï¼Œä½†åŸç†ç±»ä¼¼ï¼‰ï¼š</p>
<ol>
<li>Axiosåˆ›å»ºä¸€ä¸ªXMLHttpRequestå¯¹è±¡ã€‚</li>
<li>è°ƒç”¨xhr.open(method, url)æ–¹æ³•ã€‚</li>
<li>è®¾ç½®è¯·æ±‚å¤´ï¼ˆå¦‚æœéœ€è¦ï¼‰ã€‚</li>
<li>æ³¨å†Œonreadystatechangeäº‹ä»¶å¤„ç†å‡½æ•°ã€‚</li>
<li>è°ƒç”¨xhr.send(data)å‘é€è¯·æ±‚ã€‚</li>
</ol>
<p>æµè§ˆå™¨å†…éƒ¨ï¼ˆæ¸²æŸ“è¿›ç¨‹ï¼‰ä¼šé€šè¿‡IPCå°†ç½‘ç»œè¯·æ±‚å‘é€ç»™ç½‘ç»œè¿›ç¨‹ã€‚ç½‘ç»œè¿›ç¨‹è´Ÿè´£å®é™…çš„ç½‘ç»œé€šä¿¡ã€‚</p>
<p>å½“ç½‘ç»œè¿›ç¨‹æ¥æ”¶åˆ°å“åº”æ—¶ï¼Œä¼šé€šè¿‡IPCå°†å“åº”æ•°æ®è¿”å›ç»™æ¸²æŸ“è¿›ç¨‹ã€‚æ¸²æŸ“è¿›ç¨‹ä¸­çš„XMLHttpRequestå¯¹è±¡ä¼šè§¦å‘onreadystatechangeäº‹ä»¶ï¼Œç„¶åAxiosçš„Promiseè§£æï¼Œè°ƒç”¨thenå›è°ƒã€‚</p>
<p>æ•´ä¸ªè¿‡ç¨‹ä¸­ï¼Œæµè§ˆå™¨ä¼šéµå®ˆåŒæºç­–ç•¥ï¼Œå¦‚æœéœ€è¦è·¨åŸŸï¼Œå¯èƒ½ä¼šå‘é€é¢„æ£€è¯·æ±‚ï¼ˆOPTIONSï¼‰ã€‚</p>
<h2>æ€»ç»“</h2>
<p>ä»ç”¨æˆ·ç‚¹å‡»åˆ°æ”¶åˆ°å“åº”ï¼Œæ•´ä¸ªè¿‡ç¨‹æ¶‰åŠå¤šä¸ªå±‚çº§çš„æŠ€æœ¯åä½œã€‚ä»åº”ç”¨å±‚åˆ°ä¼ è¾“å±‚ã€ç½‘ç»œå±‚ã€é“¾è·¯å±‚ã€ç‰©ç†å±‚ï¼Œæ¯ä¸€å±‚éƒ½æœ‰å„è‡ªçš„åè®®å’Œå®ç°ã€‚ç†è§£æ•´ä¸ªæµç¨‹æœ‰åŠ©äºæˆ‘ä»¬ä¼˜åŒ–æ€§èƒ½ã€è°ƒè¯•é—®é¢˜ã€‚</p>
</blockquote>
<h1>ğŸŒ HTTPè¯·æ±‚å®Œæ•´ç”Ÿå‘½å‘¨æœŸï¼šä»ç‚¹å‡»åˆ°å“åº”çš„æ·±åº¦å‰–æ</h1>
<h2>ğŸ¯ æ•´ä½“æ¶æ„æ¦‚è§ˆ</h2>
<div class="highlight highlight-source-mermaid"><pre class="notranslate"><span class="pl-k">graph</span> <span class="pl-c1">TB</span>
    <span class="pl-ent">A</span><span class="pl-s"><span class="pl-pds"><span class="pl-sg">[</span></span>ç”¨æˆ·ç‚¹å‡»<span class="pl-pds"><span class="pl-sg">]</span></span></span> <span class="pl-k">--&gt;</span> <span class="pl-ent">B</span><span class="pl-s"><span class="pl-pds"><span class="pl-sg">[</span></span>æµè§ˆå™¨UIè¿›ç¨‹<span class="pl-pds"><span class="pl-sg">]</span></span></span>
    <span class="pl-ent">B</span> <span class="pl-k">--&gt;</span> <span class="pl-ent">C</span><span class="pl-s"><span class="pl-pds"><span class="pl-sg">[</span></span>æ¸²æŸ“è¿›ç¨‹å¤„ç†<span class="pl-pds"><span class="pl-sg">]</span></span></span>
    <span class="pl-ent">C</span> <span class="pl-k">--&gt;</span> <span class="pl-ent">D</span><span class="pl-s"><span class="pl-pds"><span class="pl-sg">[</span></span>ç½‘ç»œè¿›ç¨‹<span class="pl-pds"><span class="pl-sg">]</span></span></span>
    <span class="pl-ent">D</span> <span class="pl-k">--&gt;</span> <span class="pl-ent">E</span><span class="pl-s"><span class="pl-pds"><span class="pl-sg">[</span></span>æ“ä½œç³»ç»Ÿåè®®æ ˆ<span class="pl-pds"><span class="pl-sg">]</span></span></span>
    <span class="pl-ent">E</span> <span class="pl-k">--&gt;</span> <span class="pl-ent">F</span><span class="pl-s"><span class="pl-pds"><span class="pl-sg">[</span></span>ç½‘ç»œç¡¬ä»¶<span class="pl-pds"><span class="pl-sg">]</span></span></span>
    <span class="pl-ent">F</span> <span class="pl-k">--&gt;</span> <span class="pl-ent">G</span><span class="pl-s"><span class="pl-pds"><span class="pl-sg">[</span></span>æœåŠ¡å™¨æ¥æ”¶<span class="pl-pds"><span class="pl-sg">]</span></span></span>
    <span class="pl-ent">G</span> <span class="pl-k">--&gt;</span> <span class="pl-ent">H</span><span class="pl-s"><span class="pl-pds"><span class="pl-sg">[</span></span>SpringBootå¤„ç†<span class="pl-pds"><span class="pl-sg">]</span></span></span>
    <span class="pl-ent">H</span> <span class="pl-k">--&gt;</span> <span class="pl-ent">I</span><span class="pl-s"><span class="pl-pds"><span class="pl-sg">[</span></span>æ•°æ®åº“/æœåŠ¡<span class="pl-pds"><span class="pl-sg">]</span></span></span>
    <span class="pl-ent">I</span> <span class="pl-k">--&gt;</span> <span class="pl-ent">H</span>
    <span class="pl-ent">H</span> <span class="pl-k">--&gt;</span> <span class="pl-ent">G</span>
    <span class="pl-ent">G</span> <span class="pl-k">--&gt;</span> <span class="pl-ent">F</span>
    <span class="pl-ent">F</span> <span class="pl-k">--&gt;</span> <span class="pl-ent">E</span>
    <span class="pl-ent">E</span> <span class="pl-k">--&gt;</span> <span class="pl-ent">D</span>
    <span class="pl-ent">D</span> <span class="pl-k">--&gt;</span> <span class="pl-ent">C</span>
    <span class="pl-ent">C</span> <span class="pl-k">--&gt;</span> <span class="pl-ent">B</span>
    <span class="pl-ent">B</span> <span class="pl-k">--&gt;</span> <span class="pl-ent">A</span></pre></div>
<h2>1. ğŸ–±ï¸ ç”¨æˆ·äº¤äº’é˜¶æ®µ</h2>
<h3>1.1 ç‚¹å‡»äº‹ä»¶äº§ç”Ÿ</h3>
<div class="highlight highlight-source-js"><pre class="notranslate"><span class="pl-c">// ç”¨æˆ·ç‚¹å‡»æäº¤æŒ‰é’®çš„å®Œæ•´é“¾æ¡</span>
<span class="pl-s1">button</span><span class="pl-kos">.</span><span class="pl-en">addEventListener</span><span class="pl-kos">(</span><span class="pl-s">'click'</span><span class="pl-kos">,</span> <span class="pl-kos">(</span><span class="pl-s1">event</span><span class="pl-kos">)</span> <span class="pl-c1">=&gt;</span> <span class="pl-kos">{</span>
    <span class="pl-c">// 1. ç¡¬ä»¶ä¸­æ–­</span>
    <span class="pl-c">// 2. æ“ä½œç³»ç»Ÿäº‹ä»¶å¤„ç†</span>
    <span class="pl-c">// 3. æµè§ˆå™¨äº‹ä»¶åˆ†å‘</span>
    <span class="pl-en">handleSubmit</span><span class="pl-kos">(</span><span class="pl-kos">)</span><span class="pl-kos">;</span>
<span class="pl-kos">}</span><span class="pl-kos">)</span><span class="pl-kos">;</span></pre></div>
<p><strong>ç¡¬ä»¶å±‚é¢</strong>ï¼š</p>
<ul>
<li><strong>é¼ æ ‡ç¡¬ä»¶</strong>ï¼šå…‰ç”µä¼ æ„Ÿå™¨/æœºæ¢°å¼€å…³äº§ç”Ÿç”µä¿¡å·</li>
<li><strong>USBæ§åˆ¶å™¨</strong>ï¼šå°†æ¨¡æ‹Ÿä¿¡å·è½¬æ¢ä¸ºæ•°å­—ä¿¡å·</li>
<li><strong>ä¸­æ–­è¯·æ±‚(IRQ)</strong>ï¼šCPUæš‚åœå½“å‰ä»»åŠ¡å¤„ç†é¼ æ ‡ä¸­æ–­</li>
<li><strong>DMAä¼ è¾“</strong>ï¼šç›´æ¥å†…å­˜è®¿é—®ï¼Œé¿å…CPUé¢‘ç¹å‚ä¸</li>
</ul>
<p><strong>æ“ä½œç³»ç»Ÿå±‚é¢</strong>ï¼š</p>
<div class="highlight highlight-source-c"><pre class="notranslate"><span class="pl-c">// ç®€åŒ–ç‰ˆLinuxè¾“å…¥äº‹ä»¶å¤„ç†</span>
<span class="pl-k">static</span> <span class="pl-smi">irqreturn_t</span> <span class="pl-en">mouse_interrupt</span>(<span class="pl-smi">int</span> <span class="pl-s1">irq</span>, <span class="pl-smi">void</span> <span class="pl-c1">*</span><span class="pl-s1">dev_id</span>) {
    <span class="pl-smi">unsigned <span class="pl-smi">char</span></span> <span class="pl-s1">packet</span>[<span class="pl-c1">4</span>];
    <span class="pl-s1">packet</span>[<span class="pl-c1">0</span>] <span class="pl-c1">=</span> <span class="pl-en">inb</span>(<span class="pl-c1">MOUSE_PORT</span>);
    <span class="pl-s1">packet</span>[<span class="pl-c1">1</span>] <span class="pl-c1">=</span> <span class="pl-en">inb</span>(<span class="pl-c1">MOUSE_PORT</span> <span class="pl-c1">+</span> <span class="pl-c1">1</span>);
    <span class="pl-s1">packet</span>[<span class="pl-c1">2</span>] <span class="pl-c1">=</span> <span class="pl-en">inb</span>(<span class="pl-c1">MOUSE_PORT</span> <span class="pl-c1">+</span> <span class="pl-c1">2</span>);
    
    <span class="pl-c">// è§£æé¼ æ ‡æ•°æ®åŒ…</span>
    <span class="pl-smi">int</span> <span class="pl-s1">dx</span> <span class="pl-c1">=</span> (<span class="pl-smi">int</span>)((<span class="pl-s1">packet</span>[<span class="pl-c1">1</span>] <span class="pl-c1">&amp;</span> <span class="pl-c1">0x0F</span>) &lt;&lt; <span class="pl-c1">8</span>) | <span class="pl-s1">packet</span>[<span class="pl-c1">2</span>];
    <span class="pl-smi">int</span> <span class="pl-s1">dy</span> <span class="pl-c1">=</span> (<span class="pl-smi">int</span>)((<span class="pl-s1">packet</span>[<span class="pl-c1">2</span>] <span class="pl-c1">&amp;</span> <span class="pl-c1">0x0F</span>) &lt;&lt; <span class="pl-c1">8</span>) | <span class="pl-s1">packet</span>[<span class="pl-c1">3</span>];
    
    <span class="pl-c">// å†™å…¥è¾“å…¥è®¾å¤‡ç¼“å†²åŒº</span>
    <span class="pl-en">input_report_rel</span>(<span class="pl-s1">mouse_dev</span>, <span class="pl-c1">REL_X</span>, <span class="pl-s1">dx</span>);
    <span class="pl-en">input_report_rel</span>(<span class="pl-s1">mouse_dev</span>, <span class="pl-c1">REL_Y</span>, <span class="pl-s1">dy</span>);
    <span class="pl-en">input_sync</span>(<span class="pl-s1">mouse_dev</span>);
}</pre></div>
<h3>1.2 æµè§ˆå™¨äº‹ä»¶å¤„ç†</h3>
<p><strong>æµè§ˆå™¨å¤šè¿›ç¨‹æ¶æ„</strong>ï¼š</p>
<pre class="notranslate"><code class="notranslate">Browser Process (æµè§ˆå™¨ä¸»è¿›ç¨‹)
    â†³ UI Thread (UIçº¿ç¨‹)
    â†³ IO Thread (IOçº¿ç¨‹)
    
Renderer Process (æ¸²æŸ“è¿›ç¨‹)
    â†³ Main Thread (ä¸»çº¿ç¨‹) â†’ JavaScriptæ‰§è¡Œ
    â†³ Compositor Thread (åˆæˆçº¿ç¨‹)
    
GPU Process (GPUè¿›ç¨‹)
Network Process (ç½‘ç»œè¿›ç¨‹)
</code></pre>
<h2>2. ğŸ”„ Axiosè¯·æ±‚å‘èµ·é˜¶æ®µ</h2>
<h3>2.1 Axioså†…éƒ¨å®ç°</h3>
<div class="highlight highlight-source-js"><pre class="notranslate"><span class="pl-c">// Axiosæ ¸å¿ƒè¯·æ±‚æµç¨‹</span>
<span class="pl-k">class</span> <span class="pl-v">Axios</span> <span class="pl-kos">{</span>
    <span class="pl-en">request</span><span class="pl-kos">(</span><span class="pl-s1">config</span><span class="pl-kos">)</span> <span class="pl-kos">{</span>
        <span class="pl-c">// 1. åˆå¹¶é…ç½®</span>
        <span class="pl-k">const</span> <span class="pl-s1">mergedConfig</span> <span class="pl-c1">=</span> <span class="pl-en">mergeConfig</span><span class="pl-kos">(</span><span class="pl-smi">this</span><span class="pl-kos">.</span><span class="pl-c1">defaults</span><span class="pl-kos">,</span> <span class="pl-s1">config</span><span class="pl-kos">)</span><span class="pl-kos">;</span>
        
        <span class="pl-c">// 2. æ‹¦æˆªå™¨å¤„ç†</span>
        <span class="pl-k">const</span> <span class="pl-s1">chain</span> <span class="pl-c1">=</span> <span class="pl-kos">[</span><span class="pl-kos">]</span><span class="pl-kos">;</span>
        <span class="pl-s1">chain</span><span class="pl-kos">.</span><span class="pl-en">unshift</span><span class="pl-kos">(</span>...<span class="pl-smi">this</span><span class="pl-kos">.</span><span class="pl-c1">interceptors</span><span class="pl-kos">.</span><span class="pl-c1">request</span><span class="pl-kos">.</span><span class="pl-c1">handlers</span><span class="pl-kos">)</span><span class="pl-kos">;</span>
        <span class="pl-s1">chain</span><span class="pl-kos">.</span><span class="pl-en">push</span><span class="pl-kos">(</span><span class="pl-s1">dispatchRequest</span><span class="pl-kos">,</span> <span class="pl-c1">undefined</span><span class="pl-kos">)</span><span class="pl-kos">;</span>
        <span class="pl-s1">chain</span><span class="pl-kos">.</span><span class="pl-en">push</span><span class="pl-kos">(</span>...<span class="pl-smi">this</span><span class="pl-kos">.</span><span class="pl-c1">interceptors</span><span class="pl-kos">.</span><span class="pl-c1">response</span><span class="pl-kos">.</span><span class="pl-c1">handlers</span><span class="pl-kos">)</span><span class="pl-kos">;</span>
        
        <span class="pl-c">// 3. æ‰§è¡Œé“¾å¼è°ƒç”¨</span>
        <span class="pl-k">let</span> <span class="pl-s1">promise</span> <span class="pl-c1">=</span> <span class="pl-v">Promise</span><span class="pl-kos">.</span><span class="pl-en">resolve</span><span class="pl-kos">(</span><span class="pl-s1">mergedConfig</span><span class="pl-kos">)</span><span class="pl-kos">;</span>
        <span class="pl-k">while</span> <span class="pl-kos">(</span><span class="pl-s1">chain</span><span class="pl-kos">.</span><span class="pl-c1">length</span><span class="pl-kos">)</span> <span class="pl-kos">{</span>
            <span class="pl-s1">promise</span> <span class="pl-c1">=</span> <span class="pl-s1">promise</span><span class="pl-kos">.</span><span class="pl-en">then</span><span class="pl-kos">(</span><span class="pl-s1">chain</span><span class="pl-kos">.</span><span class="pl-en">shift</span><span class="pl-kos">(</span><span class="pl-kos">)</span><span class="pl-kos">,</span> <span class="pl-s1">chain</span><span class="pl-kos">.</span><span class="pl-en">shift</span><span class="pl-kos">(</span><span class="pl-kos">)</span><span class="pl-kos">)</span><span class="pl-kos">;</span>
        <span class="pl-kos">}</span>
        <span class="pl-k">return</span> <span class="pl-s1">promise</span><span class="pl-kos">;</span>
    <span class="pl-kos">}</span>
<span class="pl-kos">}</span>

<span class="pl-c">// å®é™…è¯·æ±‚åˆ†å‘</span>
<span class="pl-k">function</span> <span class="pl-en">dispatchRequest</span><span class="pl-kos">(</span><span class="pl-s1">config</span><span class="pl-kos">)</span> <span class="pl-kos">{</span>
    <span class="pl-c">// é€‚é…å™¨æ¨¡å¼ï¼šæµè§ˆå™¨ç¯å¢ƒä½¿ç”¨XMLHttpRequest</span>
    <span class="pl-k">const</span> <span class="pl-s1">adapter</span> <span class="pl-c1">=</span> <span class="pl-s1">config</span><span class="pl-kos">.</span><span class="pl-c1">adapter</span> <span class="pl-c1">||</span> <span class="pl-s1">defaults</span><span class="pl-kos">.</span><span class="pl-c1">adapter</span><span class="pl-kos">;</span>
    <span class="pl-k">return</span> <span class="pl-s1">adapter</span><span class="pl-kos">(</span><span class="pl-s1">config</span><span class="pl-kos">)</span><span class="pl-kos">.</span><span class="pl-en">then</span><span class="pl-kos">(</span>
        <span class="pl-s1">response</span> <span class="pl-c1">=&gt;</span> <span class="pl-en">transformResponseData</span><span class="pl-kos">(</span><span class="pl-s1">response</span><span class="pl-kos">)</span><span class="pl-kos">,</span>
        <span class="pl-s1">error</span> <span class="pl-c1">=&gt;</span> <span class="pl-en">transformError</span><span class="pl-kos">(</span><span class="pl-s1">error</span><span class="pl-kos">)</span>
    <span class="pl-kos">)</span><span class="pl-kos">;</span>
<span class="pl-kos">}</span></pre></div>
<h3>2.2 æµè§ˆå™¨ç½‘ç»œAPIè°ƒç”¨</h3>
<div class="highlight highlight-source-js"><pre class="notranslate"><span class="pl-c">// XMLHttpRequeståº•å±‚å®ç°</span>
<span class="pl-k">class</span> <span class="pl-v">XMLHttpRequest</span> <span class="pl-kos">{</span>
    <span class="pl-en">open</span><span class="pl-kos">(</span><span class="pl-s1">method</span><span class="pl-kos">,</span> <span class="pl-s1">url</span><span class="pl-kos">)</span> <span class="pl-kos">{</span>
        <span class="pl-c">// è°ƒç”¨C++å®ç°çš„æµè§ˆå™¨ç½‘ç»œæ ˆ</span>
        <span class="pl-smi">this</span><span class="pl-kos">.</span><span class="pl-c1">_nativeXHR</span><span class="pl-kos">.</span><span class="pl-en">open</span><span class="pl-kos">(</span><span class="pl-s1">method</span><span class="pl-kos">,</span> <span class="pl-s1">url</span><span class="pl-kos">)</span><span class="pl-kos">;</span>
    <span class="pl-kos">}</span>
    
    <span class="pl-en">send</span><span class="pl-kos">(</span><span class="pl-s1">data</span><span class="pl-kos">)</span> <span class="pl-kos">{</span>
        <span class="pl-c">// 1. å‚æ•°éªŒè¯å’Œé¢„å¤„ç†</span>
        <span class="pl-smi">this</span><span class="pl-kos">.</span><span class="pl-en">_validateSendParameters</span><span class="pl-kos">(</span><span class="pl-kos">)</span><span class="pl-kos">;</span>
        
        <span class="pl-c">// 2. è°ƒç”¨åº•å±‚ç½‘ç»œæ¥å£</span>
        <span class="pl-smi">this</span><span class="pl-kos">.</span><span class="pl-c1">_nativeXHR</span><span class="pl-kos">.</span><span class="pl-en">send</span><span class="pl-kos">(</span>
            <span class="pl-smi">this</span><span class="pl-kos">.</span><span class="pl-en">_processData</span><span class="pl-kos">(</span><span class="pl-s1">data</span><span class="pl-kos">)</span><span class="pl-kos">,</span>
            <span class="pl-smi">this</span><span class="pl-kos">.</span><span class="pl-en">_getRequestHeaders</span><span class="pl-kos">(</span><span class="pl-kos">)</span>
        <span class="pl-kos">)</span><span class="pl-kos">;</span>
        
        <span class="pl-c">// 3. æ³¨å†Œäº‹ä»¶ç›‘å¬</span>
        <span class="pl-smi">this</span><span class="pl-kos">.</span><span class="pl-en">_setupEventListeners</span><span class="pl-kos">(</span><span class="pl-kos">)</span><span class="pl-kos">;</span>
    <span class="pl-kos">}</span>
<span class="pl-kos">}</span></pre></div>
<h2>3. ğŸŒ æµè§ˆå™¨ç½‘ç»œæ ˆå¤„ç†</h2>
<h3>3.1 ç½‘ç»œè¿›ç¨‹å¤„ç†æµç¨‹</h3>
<pre class="notranslate"><code class="notranslate">æ¸²æŸ“è¿›ç¨‹ (Renderer Process)
    â†“ IPC (è¿›ç¨‹é—´é€šä¿¡)
ç½‘ç»œè¿›ç¨‹ (Network Process)
    â†“ è°ƒç”¨æ“ä½œç³»ç»ŸAPI
æ“ä½œç³»ç»Ÿç½‘ç»œæ ˆ
    â†“ ç¡¬ä»¶é©±åŠ¨
ç½‘ç»œæ¥å£å¡ (NIC)
</code></pre>
<h3>3.2 æµè§ˆå™¨ç½‘ç»œæ ˆè¯¦ç»†æµç¨‹</h3>
<div class="highlight highlight-source-c++"><pre class="notranslate"><span class="pl-c"><span class="pl-c">//</span> ç®€åŒ–ç‰ˆChromiumç½‘ç»œæ ˆå¤„ç†</span>
<span class="pl-k">class</span> <span class="pl-en">NetworkService</span> {
    <span class="pl-k">void</span> <span class="pl-en">StartRequest</span>(<span class="pl-k">const</span> URLRequest&amp; request) {
        <span class="pl-c"><span class="pl-c">//</span> 1. ç¼“å­˜æ£€æŸ¥</span>
        <span class="pl-k">if</span> (<span class="pl-c1">CheckCache</span>(request)) {
            <span class="pl-k">return</span> <span class="pl-c1">ServeFromCache</span>(request);
        }
        
        <span class="pl-c"><span class="pl-c">//</span> 2. Cookieå¤„ç†</span>
        <span class="pl-k">auto</span> cookies = cookie_store_-&gt;<span class="pl-c1">GetAllCookiesForURL</span>(request.<span class="pl-smi">url</span>);
        
        <span class="pl-c"><span class="pl-c">//</span> 3. DNSé¢„è§£æ</span>
        <span class="pl-c1">HostResolver::ResolveHost</span>(
            request.<span class="pl-smi">url</span>.<span class="pl-c1">host</span>(),
            [<span class="pl-c1">this</span>, request](IPAddress address) {
                <span class="pl-c"><span class="pl-c">//</span> 4. å»ºç«‹è¿æ¥</span>
                <span class="pl-c1">CreateTransportSocket</span>(address, request);
            }
        );
    }
    
    <span class="pl-k">void</span> <span class="pl-en">CreateTransportSocket</span>(IPAddress address, <span class="pl-k">const</span> URLRequest&amp; request) {
        <span class="pl-c"><span class="pl-c">//</span> 5. Socketåˆ›å»º</span>
        <span class="pl-k">auto</span> socket = socket_factory_-&gt;<span class="pl-c1">CreateTCPSocket</span>();
        
        <span class="pl-c"><span class="pl-c">//</span> 6. TLS/SSLæ¡æ‰‹ï¼ˆHTTPSï¼‰</span>
        <span class="pl-k">if</span> (request.<span class="pl-smi">url</span>.<span class="pl-c1">scheme</span>() == <span class="pl-s"><span class="pl-pds">"</span>https<span class="pl-pds">"</span></span>) {
            <span class="pl-c1">SSLClientSocket::Connect</span>(socket, request);
        } <span class="pl-k">else</span> {
            <span class="pl-c"><span class="pl-c">//</span> 7. TCPè¿æ¥å»ºç«‹</span>
            socket-&gt;<span class="pl-c1">Connect</span>(address, request.<span class="pl-smi">url</span>.<span class="pl-c1">EffectiveIntPort</span>());
        }
        
        <span class="pl-c"><span class="pl-c">//</span> 8. HTTPè¯·æ±‚å‘é€</span>
        <span class="pl-c1">SendHTTPRequest</span>(socket, request);
    }
}<span class="pl-ii"></span></pre></div>
<h2>4. ğŸ’» æ“ä½œç³»ç»Ÿç½‘ç»œåè®®æ ˆ</h2>
<h3>4.1 TCP/IPåè®®æ ˆå¤„ç†</h3>
<div class="highlight highlight-source-c"><pre class="notranslate"><span class="pl-c">// Linuxå†…æ ¸TCP/IPå¤„ç†ç®€åŒ–æµç¨‹</span>
<span class="pl-c">// net/ipv4/tcp_ipv4.c</span>

<span class="pl-c">// TCPè¿æ¥å»ºç«‹</span>
<span class="pl-smi">int</span> <span class="pl-en">tcp_v4_connect</span>(<span class="pl-k">struct</span> <span class="pl-smi">sock</span> <span class="pl-c1">*</span><span class="pl-s1">sk</span>, <span class="pl-k">struct</span> <span class="pl-smi">sockaddr</span> <span class="pl-c1">*</span><span class="pl-s1">uaddr</span>, <span class="pl-smi">int</span> <span class="pl-s1">addr_len</span>) {
    <span class="pl-c">// 1. è·¯ç”±æŸ¥æ‰¾</span>
    <span class="pl-k">struct</span> <span class="pl-smi">rtable</span> <span class="pl-c1">*</span><span class="pl-s1">rt</span> <span class="pl-c1">=</span> <span class="pl-en">ip_route_connect</span>(...);
    
    <span class="pl-c">// 2. TCPä¸‰æ¬¡æ¡æ‰‹</span>
    <span class="pl-en">tcp_connect</span>(<span class="pl-s1">sk</span>);
    
    <span class="pl-c">// 3. æ·»åŠ åˆ°è¿æ¥è¡¨</span>
    <span class="pl-en">inet_hash_connect</span>(<span class="pl-c1">&amp;</span><span class="pl-s1">tcp_hashinfo</span>, <span class="pl-s1">sk</span>);
}

<span class="pl-c">// æ•°æ®å‘é€</span>
<span class="pl-smi">int</span> <span class="pl-en">tcp_sendmsg</span>(<span class="pl-k">struct</span> <span class="pl-smi">sock</span> <span class="pl-c1">*</span><span class="pl-s1">sk</span>, <span class="pl-k">struct</span> <span class="pl-smi">msghdr</span> <span class="pl-c1">*</span><span class="pl-s1">msg</span>, <span class="pl-smi">size_t</span> <span class="pl-s1">size</span>) {
    <span class="pl-c">// 1. æ•°æ®åˆ†æ®µ</span>
    <span class="pl-k">struct</span> <span class="pl-smi">sk_buff</span> <span class="pl-c1">*</span><span class="pl-s1">skb</span> <span class="pl-c1">=</span> <span class="pl-en">alloc_skb_with_frags</span>(...);
    
    <span class="pl-c">// 2. TCPå¤´éƒ¨å°è£…</span>
    <span class="pl-en">tcp_build_and_update_options</span>(<span class="pl-s1">skb</span>);
    
    <span class="pl-c">// 3. æ‹¥å¡æ§åˆ¶</span>
    <span class="pl-en">tcp_cwnd_test</span>(<span class="pl-s1">sk</span>, <span class="pl-s1">skb</span>);
    
    <span class="pl-c">// 4. äº¤ç»™IPå±‚</span>
    <span class="pl-k">return</span> <span class="pl-en">ip_queue_xmit</span>(<span class="pl-s1">sk</span>, <span class="pl-s1">skb</span>, <span class="pl-c1">&amp;</span><span class="pl-s1">fl</span>);
}</pre></div>
<h3>4.2 æ•°æ®åŒ…å°è£…æµç¨‹</h3>
<pre class="notranslate"><code class="notranslate">åº”ç”¨å±‚æ•°æ® (HTTPè¯·æ±‚)
    â†“ æ·»åŠ TCPå¤´éƒ¨
TCPæ®µ (Segment)
    â†“ æ·»åŠ IPå¤´éƒ¨  
IPæ•°æ®åŒ… (Packet)
    â†“ æ·»åŠ ä»¥å¤ªç½‘å¤´éƒ¨
ä»¥å¤ªç½‘å¸§ (Frame)
    â†“ ç‰©ç†ä¿¡å·
ç½‘ç»œä¼ è¾“
</code></pre>
<h2>5. ğŸ”Œ ç½‘ç»œç¡¬ä»¶ä¼ è¾“</h2>
<h3>5.1 ç½‘å¡å·¥ä½œåŸç†</h3>
<div class="highlight highlight-source-c"><pre class="notranslate"><span class="pl-c">// ç½‘å¡é©±åŠ¨æ•°æ®å‘é€</span>
<span class="pl-k">struct</span> <span class="pl-smi">net_device_ops</span> {
    <span class="pl-smi">int</span> (<span class="pl-c1">*</span><span class="pl-c1">ndo_start_xmit</span>)(<span class="pl-k">struct</span> <span class="pl-smi">sk_buff</span> <span class="pl-c1">*</span><span class="pl-s1">skb</span>, <span class="pl-k">struct</span> <span class="pl-smi">net_device</span> <span class="pl-c1">*</span><span class="pl-s1">dev</span>);
};

<span class="pl-c">// æ•°æ®å‘é€å‡½æ•°</span>
<span class="pl-smi">int</span> <span class="pl-en">netdev_start_xmit</span>(<span class="pl-k">struct</span> <span class="pl-smi">sk_buff</span> <span class="pl-c1">*</span><span class="pl-s1">skb</span>, <span class="pl-k">struct</span> <span class="pl-smi">net_device</span> <span class="pl-c1">*</span><span class="pl-s1">dev</span>) {
    <span class="pl-c">// 1. DMAæè¿°ç¬¦è®¾ç½®</span>
    <span class="pl-k">struct</span> <span class="pl-smi">dma_desc</span> <span class="pl-c1">*</span><span class="pl-s1">desc</span> <span class="pl-c1">=</span> <span class="pl-en">get_tx_desc</span>(<span class="pl-s1">dev</span>);
    
    <span class="pl-c">// 2. å†…å­˜æ˜ å°„</span>
    <span class="pl-en">dma_map_single</span>(<span class="pl-s1">dev</span><span class="pl-c1">-&gt;</span><span class="pl-c1">dev</span>, <span class="pl-s1">skb</span><span class="pl-c1">-&gt;</span><span class="pl-c1">data</span>, <span class="pl-s1">skb</span><span class="pl-c1">-&gt;</span><span class="pl-c1">len</span>, <span class="pl-c1">DMA_TO_DEVICE</span>);
    
    <span class="pl-c">// 3. è§¦å‘å‘é€</span>
    <span class="pl-en">writel</span>(<span class="pl-s1">desc</span><span class="pl-c1">-&gt;</span><span class="pl-c1">addr</span>, <span class="pl-s1">dev</span><span class="pl-c1">-&gt;</span><span class="pl-c1">base_addr</span> <span class="pl-c1">+</span> <span class="pl-c1">TX_REG</span>);
    
    <span class="pl-c">// 4. ä¸­æ–­å¤„ç†å®Œæˆ</span>
    <span class="pl-en">request_irq</span>(<span class="pl-s1">dev</span><span class="pl-c1">-&gt;</span><span class="pl-c1">irq</span>, <span class="pl-s1">netdev_interrupt</span>, <span class="pl-c1">IRQF_SHARED</span>, <span class="pl-s1">dev</span><span class="pl-c1">-&gt;</span><span class="pl-c1">name</span>, <span class="pl-s1">dev</span>);
}</pre></div>
<h3>5.2 ç‰©ç†å±‚ä¼ è¾“</h3>
<ul>
<li><strong>ç”µä¿¡å·ä¼ è¾“</strong>ï¼ˆç½‘çº¿ï¼‰ï¼šç”µå‹å˜åŒ–è¡¨ç¤º0/1</li>
<li><strong>å…‰ä¿¡å·ä¼ è¾“</strong>ï¼ˆå…‰çº¤ï¼‰ï¼šå…‰è„‰å†²è¡¨ç¤º0/1</li>
<li><strong>æ— çº¿ä¼ è¾“</strong>ï¼ˆWiFiï¼‰ï¼šç”µç£æ³¢è°ƒåˆ¶</li>
</ul>
<h2>6. ğŸ–¥ï¸ æœåŠ¡å™¨ç«¯å¤„ç†</h2>
<h3>6.1 æœåŠ¡å™¨ç½‘ç»œæ ˆæ¥æ”¶</h3>
<div class="highlight highlight-source-java"><pre class="notranslate"><span class="pl-c">// SpringBootå†…åµŒTomcatæ¥æ”¶è¯·æ±‚</span>
<span class="pl-k">public</span> <span class="pl-k">class</span> <span class="pl-smi">TomcatEmbeddedServletContainer</span> {
    
    <span class="pl-c">// NIOç«¯ç‚¹æ¥æ”¶è¿æ¥</span>
    <span class="pl-k">protected</span> <span class="pl-k">class</span> <span class="pl-smi">Acceptor</span> <span class="pl-k">implements</span> <span class="pl-smi">Runnable</span> {
        <span class="pl-k">public</span> <span class="pl-smi">void</span> <span class="pl-en">run</span>() {
            <span class="pl-k">while</span> (<span class="pl-s1">running</span>) {
                <span class="pl-c">// 1. æ¥å—è¿æ¥</span>
                <span class="pl-smi">SocketChannel</span> <span class="pl-s1">socket</span> = <span class="pl-s1">serverSock</span>.<span class="pl-en">accept</span>();
                
                <span class="pl-c">// 2. æ³¨å†Œåˆ°Poller</span>
                <span class="pl-en">getPoller</span>().<span class="pl-en">register</span>(<span class="pl-s1">socket</span>);
            }
        }
    }
    
    <span class="pl-c">// Pollerå¤„ç†IOäº‹ä»¶</span>
    <span class="pl-k">protected</span> <span class="pl-k">class</span> <span class="pl-smi">Poller</span> <span class="pl-k">implements</span> <span class="pl-smi">Runnable</span> {
        <span class="pl-k">public</span> <span class="pl-smi">void</span> <span class="pl-en">run</span>() {
            <span class="pl-k">while</span> (<span class="pl-c1">true</span>) {
                <span class="pl-c">// 3. é€‰æ‹©å°±ç»ªçš„é€šé“</span>
                <span class="pl-smi">int</span> <span class="pl-s1">keyCount</span> = <span class="pl-s1">selector</span>.<span class="pl-en">select</span>();
                
                <span class="pl-c">// 4. å¤„ç†IOäº‹ä»¶</span>
                <span class="pl-k">for</span> (<span class="pl-smi">SelectionKey</span> <span class="pl-s1">key</span> : <span class="pl-s1">selector</span>.<span class="pl-en">selectedKeys</span>()) {
                    <span class="pl-k">if</span> (<span class="pl-s1">key</span>.<span class="pl-en">isReadable</span>()) {
                        <span class="pl-c">// 5. è¯»å–HTTPè¯·æ±‚</span>
                        <span class="pl-en">processSocket</span>(<span class="pl-s1">socket</span>, <span class="pl-smi">SocketStatus</span>.<span class="pl-c1">OPEN_READ</span>);
                    }
                }
            }
        }
    }
}</pre></div>
<h3>6.2 SpringBootè¯·æ±‚å¤„ç†</h3>
<div class="highlight highlight-source-java"><pre class="notranslate"><span class="pl-c">// DispatcherServletè¯·æ±‚åˆ†å‘</span>
<span class="pl-k">public</span> <span class="pl-k">class</span> <span class="pl-smi">DispatcherServlet</span> <span class="pl-k">extends</span> <span class="pl-smi">FrameworkServlet</span> {
    
    <span class="pl-k">protected</span> <span class="pl-smi">void</span> <span class="pl-en">doDispatch</span>(<span class="pl-smi">HttpServletRequest</span> <span class="pl-s1">request</span>, 
                             <span class="pl-smi">HttpServletResponse</span> <span class="pl-s1">response</span>) <span class="pl-k">throws</span> <span class="pl-smi">Exception</span> {
        <span class="pl-c">// 1. è·å–HandlerMapping</span>
        <span class="pl-smi">HandlerExecutionChain</span> <span class="pl-s1">mappedHandler</span> = <span class="pl-en">getHandler</span>(<span class="pl-s1">request</span>);
        
        <span class="pl-c">// 2. è·å–HandlerAdapter</span>
        <span class="pl-smi">HandlerAdapter</span> <span class="pl-s1">ha</span> = <span class="pl-en">getHandlerAdapter</span>(<span class="pl-s1">mappedHandler</span>.<span class="pl-en">getHandler</span>());
        
        <span class="pl-c">// 3. æ‰§è¡Œæ‹¦æˆªå™¨å‰ç½®å¤„ç†</span>
        <span class="pl-k">if</span> (!<span class="pl-s1">mappedHandler</span>.<span class="pl-en">applyPreHandle</span>(<span class="pl-s1">request</span>, <span class="pl-s1">response</span>)) <span class="pl-k">return</span>;
        
        <span class="pl-c">// 4. å®é™…è°ƒç”¨Controlleræ–¹æ³•</span>
        <span class="pl-smi">ModelAndView</span> <span class="pl-s1">mv</span> = <span class="pl-s1">ha</span>.<span class="pl-en">handle</span>(<span class="pl-s1">request</span>, <span class="pl-s1">response</span>, <span class="pl-s1">mappedHandler</span>.<span class="pl-en">getHandler</span>());
        
        <span class="pl-c">// 5. æ‰§è¡Œæ‹¦æˆªå™¨åç½®å¤„ç†</span>
        <span class="pl-s1">mappedHandler</span>.<span class="pl-en">applyPostHandle</span>(<span class="pl-s1">request</span>, <span class="pl-s1">response</span>, <span class="pl-s1">mv</span>);
        
        <span class="pl-c">// 6. æ¸²æŸ“è§†å›¾/è¿”å›JSON</span>
        <span class="pl-en">processDispatchResult</span>(<span class="pl-s1">request</span>, <span class="pl-s1">response</span>, <span class="pl-s1">mappedHandler</span>, <span class="pl-s1">mv</span>, <span class="pl-c1">null</span>);
    }
}

<span class="pl-c">// å‚æ•°è§£æå™¨å·¥ä½œæµç¨‹</span>
<span class="pl-k">public</span> <span class="pl-k">class</span> <span class="pl-smi">RequestParamMethodArgumentResolver</span> <span class="pl-k">implements</span> <span class="pl-smi">HandlerMethodArgumentResolver</span> {
    
    <span class="pl-k">public</span> <span class="pl-smi">Object</span> <span class="pl-en">resolveArgument</span>(<span class="pl-smi">MethodParameter</span> <span class="pl-s1">parameter</span>, 
                                 <span class="pl-smi">ModelAndViewContainer</span> <span class="pl-s1">mavContainer</span>,
                                 <span class="pl-smi">NativeWebRequest</span> <span class="pl-s1">webRequest</span>, 
                                 <span class="pl-smi">WebDataBinderFactory</span> <span class="pl-s1">binderFactory</span>) <span class="pl-k">throws</span> <span class="pl-smi">Exception</span> {
        
        <span class="pl-c">// 1. è·å–å‚æ•°åç§°</span>
        <span class="pl-smi">String</span> <span class="pl-s1">name</span> = <span class="pl-en">getParameterName</span>(<span class="pl-s1">parameter</span>);
        
        <span class="pl-c">// 2. ä»ä¸åŒä½ç½®è§£æå‚æ•°</span>
        <span class="pl-smi">Object</span> <span class="pl-s1">arg</span>;
        <span class="pl-k">if</span> (<span class="pl-s1">parameter</span>.<span class="pl-en">hasParameterAnnotation</span>(<span class="pl-smi">PathVariable</span>.<span class="pl-k">class</span>)) {
            <span class="pl-c">// è·¯å¾„å‚æ•°</span>
            <span class="pl-s1">arg</span> = <span class="pl-en">resolvePathVariable</span>(<span class="pl-s1">name</span>, <span class="pl-s1">parameter</span>, <span class="pl-s1">webRequest</span>);
        } <span class="pl-k">else</span> <span class="pl-k">if</span> (<span class="pl-s1">parameter</span>.<span class="pl-en">hasParameterAnnotation</span>(<span class="pl-smi">RequestParam</span>.<span class="pl-k">class</span>)) {
            <span class="pl-c">// æŸ¥è¯¢å‚æ•°</span>
            <span class="pl-s1">arg</span> = <span class="pl-en">resolveRequestParam</span>(<span class="pl-s1">name</span>, <span class="pl-s1">parameter</span>, <span class="pl-s1">webRequest</span>);
        } <span class="pl-k">else</span> <span class="pl-k">if</span> (<span class="pl-s1">parameter</span>.<span class="pl-en">hasParameterAnnotation</span>(<span class="pl-smi">RequestBody</span>.<span class="pl-k">class</span>)) {
            <span class="pl-c">// è¯·æ±‚ä½“</span>
            <span class="pl-s1">arg</span> = <span class="pl-en">resolveRequestBody</span>(<span class="pl-s1">parameter</span>, <span class="pl-s1">webRequest</span>);
        } <span class="pl-k">else</span> {
            <span class="pl-c">// å…¶ä»–å‚æ•°è§£æ</span>
            <span class="pl-s1">arg</span> = <span class="pl-en">resolveDefaultValue</span>(<span class="pl-s1">name</span>, <span class="pl-s1">parameter</span>, <span class="pl-s1">webRequest</span>);
        }
        
        <span class="pl-c">// 3. æ•°æ®ç»‘å®šå’ŒéªŒè¯</span>
        <span class="pl-k">if</span> (<span class="pl-s1">binderFactory</span> != <span class="pl-c1">null</span>) {
            <span class="pl-smi">WebDataBinder</span> <span class="pl-s1">binder</span> = <span class="pl-s1">binderFactory</span>.<span class="pl-en">createBinder</span>(<span class="pl-s1">webRequest</span>, <span class="pl-c1">null</span>, <span class="pl-s1">name</span>);
            <span class="pl-s1">arg</span> = <span class="pl-s1">binder</span>.<span class="pl-en">convertIfNecessary</span>(<span class="pl-s1">arg</span>, <span class="pl-s1">parameter</span>.<span class="pl-en">getParameterType</span>(), <span class="pl-s1">parameter</span>);
        }
        
        <span class="pl-k">return</span> <span class="pl-s1">arg</span>;
    }
}</pre></div>
<h2>7. ğŸ“Š æ•°æ®åº“äº¤äº’</h2>
<h3>7.1 æ•°æ®åº“è¿æ¥å¤„ç†</h3>
<div class="highlight highlight-source-java"><pre class="notranslate"><span class="pl-c">// Spring Data JPAæ•°æ®åº“äº¤äº’</span>
<span class="pl-c1">@</span><span class="pl-c1">Repository</span>
<span class="pl-k">public</span> <span class="pl-k">class</span> <span class="pl-smi">UserRepositoryImpl</span> <span class="pl-k">implements</span> <span class="pl-smi">UserRepository</span> {
    
    <span class="pl-c1">@</span><span class="pl-c1">PersistenceContext</span>
    <span class="pl-k">private</span> <span class="pl-smi">EntityManager</span> <span class="pl-s1">entityManager</span>;
    
    <span class="pl-c1">@</span><span class="pl-c1">Transactional</span>
    <span class="pl-k">public</span> <span class="pl-smi">User</span> <span class="pl-en">save</span>(<span class="pl-smi">User</span> <span class="pl-s1">user</span>) {
        <span class="pl-c">// 1. è·å–æ•°æ®åº“è¿æ¥</span>
        <span class="pl-smi">Connection</span> <span class="pl-s1">conn</span> = <span class="pl-en">getConnectionFromPool</span>();
        
        <span class="pl-k">try</span> {
            <span class="pl-c">// 2. åˆ›å»ºPreparedStatement</span>
            <span class="pl-smi">PreparedStatement</span> <span class="pl-s1">stmt</span> = <span class="pl-s1">conn</span>.<span class="pl-en">prepareStatement</span>(
                <span class="pl-s">"INSERT INTO users (username, email) VALUES (?, ?)"</span>,
                <span class="pl-smi">Statement</span>.<span class="pl-c1">RETURN_GENERATED_KEYS</span>
            );
            
            <span class="pl-c">// 3. å‚æ•°ç»‘å®š</span>
            <span class="pl-s1">stmt</span>.<span class="pl-en">setString</span>(<span class="pl-c1">1</span>, <span class="pl-s1">user</span>.<span class="pl-en">getUsername</span>());
            <span class="pl-s1">stmt</span>.<span class="pl-en">setString</span>(<span class="pl-c1">2</span>, <span class="pl-s1">user</span>.<span class="pl-en">getEmail</span>());
            
            <span class="pl-c">// 4. æ‰§è¡ŒSQL</span>
            <span class="pl-smi">int</span> <span class="pl-s1">affectedRows</span> = <span class="pl-s1">stmt</span>.<span class="pl-en">executeUpdate</span>();
            
            <span class="pl-c">// 5. å¤„ç†ç»“æœ</span>
            <span class="pl-k">if</span> (<span class="pl-s1">affectedRows</span> &gt; <span class="pl-c1">0</span>) {
                <span class="pl-smi">ResultSet</span> <span class="pl-s1">rs</span> = <span class="pl-s1">stmt</span>.<span class="pl-en">getGeneratedKeys</span>();
                <span class="pl-k">if</span> (<span class="pl-s1">rs</span>.<span class="pl-en">next</span>()) {
                    <span class="pl-s1">user</span>.<span class="pl-en">setId</span>(<span class="pl-s1">rs</span>.<span class="pl-en">getLong</span>(<span class="pl-c1">1</span>));
                }
            }
            
            <span class="pl-k">return</span> <span class="pl-s1">user</span>;
        } <span class="pl-k">finally</span> {
            <span class="pl-c">// 6. é‡Šæ”¾è¿æ¥å›è¿æ¥æ± </span>
            <span class="pl-en">releaseConnection</span>(<span class="pl-s1">conn</span>);
        }
    }
}</pre></div>
<h2>8. ğŸ”„ å“åº”è¿”å›æµç¨‹</h2>
<h3>8.1 å“åº”æ•°æ®æµ</h3>
<div class="highlight highlight-source-java"><pre class="notranslate"><span class="pl-c">// SpringBootå“åº”å¤„ç†</span>
<span class="pl-c1">@</span><span class="pl-c1">RestController</span>
<span class="pl-k">public</span> <span class="pl-k">class</span> <span class="pl-smi">UserController</span> {
    
    <span class="pl-c1">@</span><span class="pl-c1">PostMapping</span>(<span class="pl-s">"/users"</span>)
    <span class="pl-k">public</span> <span class="pl-smi">ResponseEntity</span>&lt;<span class="pl-smi">UserDTO</span>&gt; <span class="pl-en">createUser</span>(<span class="pl-c1">@</span><span class="pl-c1">RequestBody</span> <span class="pl-c1">@</span><span class="pl-c1">Valid</span> <span class="pl-smi">UserCreateRequest</span> <span class="pl-s1">request</span>) {
        <span class="pl-c">// 1. ä¸šåŠ¡å¤„ç†</span>
        <span class="pl-smi">User</span> <span class="pl-s1">user</span> = <span class="pl-s1">userService</span>.<span class="pl-en">createUser</span>(<span class="pl-s1">request</span>);
        
        <span class="pl-c">// 2. è½¬æ¢ä¸ºDTO</span>
        <span class="pl-smi">UserDTO</span> <span class="pl-s1">userDTO</span> = <span class="pl-s1">userMapper</span>.<span class="pl-en">toDTO</span>(<span class="pl-s1">user</span>);
        
        <span class="pl-c">// 3. æ„å»ºå“åº”</span>
        <span class="pl-k">return</span> <span class="pl-smi">ResponseEntity</span>.<span class="pl-en">status</span>(<span class="pl-smi">HttpStatus</span>.<span class="pl-c1">CREATED</span>)
               .<span class="pl-en">header</span>(<span class="pl-s">"Location"</span>, <span class="pl-s">"/users/"</span> + <span class="pl-s1">user</span>.<span class="pl-en">getId</span>())
               .<span class="pl-en">body</span>(<span class="pl-s1">userDTO</span>);
    }
}

<span class="pl-c">// HttpMessageConverterå“åº”è½¬æ¢</span>
<span class="pl-k">public</span> <span class="pl-k">class</span> <span class="pl-smi">MappingJackson2HttpMessageConverter</span> <span class="pl-k">implements</span> <span class="pl-smi">HttpMessageConverter</span>&lt;<span class="pl-smi">Object</span>&gt; {
    
    <span class="pl-k">protected</span> <span class="pl-smi">void</span> <span class="pl-en">writeInternal</span>(<span class="pl-smi">Object</span> <span class="pl-s1">object</span>, 
                                <span class="pl-smi">Type</span> <span class="pl-s1">type</span>, 
                                <span class="pl-smi">HttpOutputMessage</span> <span class="pl-s1">outputMessage</span>) <span class="pl-k">throws</span> <span class="pl-smi">Exception</span> {
        
        <span class="pl-c">// 1. è·å–è¾“å‡ºæµ</span>
        <span class="pl-smi">OutputStream</span> <span class="pl-s1">outputStream</span> = <span class="pl-s1">outputMessage</span>.<span class="pl-en">getBody</span>();
        
        <span class="pl-c">// 2. JSONåºåˆ—åŒ–</span>
        <span class="pl-smi">ObjectMapper</span> <span class="pl-s1">mapper</span> = <span class="pl-en">getObjectMapper</span>();
        <span class="pl-s1">mapper</span>.<span class="pl-en">writeValue</span>(<span class="pl-s1">outputStream</span>, <span class="pl-s1">object</span>);
        
        <span class="pl-c">// 3. åˆ·æ–°ç¼“å†²åŒº</span>
        <span class="pl-s1">outputStream</span>.<span class="pl-en">flush</span>();
    }
}</pre></div>
<h3>8.2 Tomcatå“åº”å‘é€</h3>
<div class="highlight highlight-source-java"><pre class="notranslate"><span class="pl-c">// Tomcatå“åº”è¾“å‡º</span>
<span class="pl-k">public</span> <span class="pl-k">class</span> <span class="pl-smi">Response</span> <span class="pl-k">implements</span> <span class="pl-smi">HttpServletResponse</span> {
    
    <span class="pl-k">public</span> <span class="pl-smi">ServletOutputStream</span> <span class="pl-en">getOutputStream</span>() {
        <span class="pl-c">// è¿”å›åŒ…è£…äº†Socketçš„è¾“å‡ºæµ</span>
        <span class="pl-k">return</span> <span class="pl-k">new</span> <span class="pl-smi">CoyoteOutputStream</span>(<span class="pl-s1">outputBuffer</span>);
    }
    
    <span class="pl-k">protected</span> <span class="pl-smi">void</span> <span class="pl-en">doWrite</span>(<span class="pl-smi">ByteBuffer</span> <span class="pl-s1">chunk</span>) <span class="pl-k">throws</span> <span class="pl-smi">IOException</span> {
        <span class="pl-c">// é€šè¿‡SocketChannelå‘é€æ•°æ®</span>
        <span class="pl-s1">socketWrapper</span>.<span class="pl-en">write</span>(<span class="pl-en">isBlocking</span>(), <span class="pl-s1">chunk</span>);
    }
}

<span class="pl-c">// åº•å±‚Socketå†™å…¥</span>
<span class="pl-k">public</span> <span class="pl-k">class</span> <span class="pl-smi">NioChannel</span> {
    <span class="pl-k">public</span> <span class="pl-smi">int</span> <span class="pl-en">write</span>(<span class="pl-smi">ByteBuffer</span> <span class="pl-s1">buf</span>) <span class="pl-k">throws</span> <span class="pl-smi">IOException</span> {
        <span class="pl-c">// è°ƒç”¨Java NIO</span>
        <span class="pl-k">return</span> <span class="pl-s1">socketChannel</span>.<span class="pl-en">write</span>(<span class="pl-s1">buf</span>);
    }
}</pre></div>
<h2>9. ğŸ“¨ æµè§ˆå™¨å“åº”å¤„ç†</h2>
<h3>9.1 ç½‘ç»œè¿›ç¨‹å“åº”è§£æ</h3>
<div class="highlight highlight-source-c++"><pre class="notranslate"><span class="pl-c"><span class="pl-c">//</span> Chromiumç½‘ç»œå“åº”å¤„ç†</span>
<span class="pl-k">class</span> <span class="pl-en">URLRequest</span> {
    <span class="pl-k">void</span> <span class="pl-en">OnResponseStarted</span>(...) {
        <span class="pl-c"><span class="pl-c">//</span> 1. è§£æHTTPå“åº”å¤´</span>
        <span class="pl-c1">ParseResponseHeaders</span>(response_info_-&gt;<span class="pl-smi">headers</span>);
        
        <span class="pl-c"><span class="pl-c">//</span> 2. å¤„ç†é‡å®šå‘</span>
        <span class="pl-k">if</span> (<span class="pl-c1">IsRedirectResponse</span>()) {
            <span class="pl-c1">StartRedirect</span>();
            <span class="pl-k">return</span>;
        }
        
        <span class="pl-c"><span class="pl-c">//</span> 3. é€šçŸ¥æ¸²æŸ“è¿›ç¨‹</span>
        delegate_-&gt;<span class="pl-c1">OnResponseStarted</span>(<span class="pl-c1">this</span>);
    }
    
    <span class="pl-k">void</span> <span class="pl-en">ReadData</span>() {
        <span class="pl-c"><span class="pl-c">//</span> 4. è¯»å–å“åº”ä½“</span>
        <span class="pl-k">int</span> bytes_read = <span class="pl-c1">ReadDataToBuffer</span>();
        
        <span class="pl-c"><span class="pl-c">//</span> 5. æ•°æ®è§£ç ï¼ˆgzipç­‰ï¼‰</span>
        <span class="pl-k">if</span> (need_decompression_) {
            bytes_read = filter_-&gt;<span class="pl-c1">ReadData</span>(filtered_buffer);
        }
        
        <span class="pl-c"><span class="pl-c">//</span> 6. ä¼ é€’ç»™æ¸²æŸ“è¿›ç¨‹</span>
        delegate_-&gt;<span class="pl-c1">OnReadCompleted</span>(<span class="pl-c1">this</span>, bytes_read);
    }
}<span class="pl-ii"></span></pre></div>
<h3>9.2 æ¸²æŸ“è¿›ç¨‹å¤„ç†å“åº”</h3>
<div class="highlight highlight-source-js"><pre class="notranslate"><span class="pl-c">// XMLHttpRequestå“åº”å¤„ç†</span>
<span class="pl-k">class</span> <span class="pl-v">XMLHttpRequest</span> <span class="pl-kos">{</span>
    <span class="pl-en">_onNetworkResponse</span><span class="pl-kos">(</span><span class="pl-s1">response</span><span class="pl-kos">)</span> <span class="pl-kos">{</span>
        <span class="pl-c">// 1. æ›´æ–°readyState</span>
        <span class="pl-smi">this</span><span class="pl-kos">.</span><span class="pl-c1">readyState</span> <span class="pl-c1">=</span> <span class="pl-smi">this</span><span class="pl-kos">.</span><span class="pl-c1">HEADERS_RECEIVED</span><span class="pl-kos">;</span>
        <span class="pl-smi">this</span><span class="pl-kos">.</span><span class="pl-en">dispatchEvent</span><span class="pl-kos">(</span><span class="pl-k">new</span> <span class="pl-v">Event</span><span class="pl-kos">(</span><span class="pl-s">'readystatechange'</span><span class="pl-kos">)</span><span class="pl-kos">)</span><span class="pl-kos">;</span>
        
        <span class="pl-c">// 2. æ£€æŸ¥çŠ¶æ€ç </span>
        <span class="pl-k">if</span> <span class="pl-kos">(</span><span class="pl-smi">this</span><span class="pl-kos">.</span><span class="pl-c1">status</span> <span class="pl-c1">&gt;=</span> <span class="pl-c1">200</span> <span class="pl-c1">&amp;&amp;</span> <span class="pl-smi">this</span><span class="pl-kos">.</span><span class="pl-c1">status</span> <span class="pl-c1">&lt;</span> <span class="pl-c1">300</span><span class="pl-kos">)</span> <span class="pl-kos">{</span>
            <span class="pl-c">// 3. è¯»å–å“åº”æ•°æ®</span>
            <span class="pl-smi">this</span><span class="pl-kos">.</span><span class="pl-en">_readResponseBody</span><span class="pl-kos">(</span><span class="pl-kos">)</span><span class="pl-kos">;</span>
        <span class="pl-kos">}</span> <span class="pl-k">else</span> <span class="pl-kos">{</span>
            <span class="pl-smi">this</span><span class="pl-kos">.</span><span class="pl-en">_handleError</span><span class="pl-kos">(</span><span class="pl-kos">)</span><span class="pl-kos">;</span>
        <span class="pl-kos">}</span>
    <span class="pl-kos">}</span>
    
    <span class="pl-en">_readResponseBody</span><span class="pl-kos">(</span><span class="pl-kos">)</span> <span class="pl-kos">{</span>
        <span class="pl-c">// 4. æ ¹æ®responseTypeå¤„ç†æ•°æ®</span>
        <span class="pl-k">switch</span> <span class="pl-kos">(</span><span class="pl-smi">this</span><span class="pl-kos">.</span><span class="pl-c1">responseType</span><span class="pl-kos">)</span> <span class="pl-kos">{</span>
            <span class="pl-k">case</span> <span class="pl-s">''</span>:
            <span class="pl-k">case</span> <span class="pl-s">'text'</span>:
                <span class="pl-smi">this</span><span class="pl-kos">.</span><span class="pl-c1">responseText</span> <span class="pl-c1">=</span> <span class="pl-en">decodeText</span><span class="pl-kos">(</span><span class="pl-smi">this</span><span class="pl-kos">.</span><span class="pl-c1">_rawData</span><span class="pl-kos">)</span><span class="pl-kos">;</span>
                <span class="pl-k">break</span><span class="pl-kos">;</span>
            <span class="pl-k">case</span> <span class="pl-s">'json'</span>:
                <span class="pl-smi">this</span><span class="pl-kos">.</span><span class="pl-c1">response</span> <span class="pl-c1">=</span> <span class="pl-c1">JSON</span><span class="pl-kos">.</span><span class="pl-en">parse</span><span class="pl-kos">(</span><span class="pl-en">decodeText</span><span class="pl-kos">(</span><span class="pl-smi">this</span><span class="pl-kos">.</span><span class="pl-c1">_rawData</span><span class="pl-kos">)</span><span class="pl-kos">)</span><span class="pl-kos">;</span>
                <span class="pl-k">break</span><span class="pl-kos">;</span>
            <span class="pl-k">case</span> <span class="pl-s">'arraybuffer'</span>:
                <span class="pl-smi">this</span><span class="pl-kos">.</span><span class="pl-c1">response</span> <span class="pl-c1">=</span> <span class="pl-smi">this</span><span class="pl-kos">.</span><span class="pl-c1">_rawData</span><span class="pl-kos">;</span>
                <span class="pl-k">break</span><span class="pl-kos">;</span>
        <span class="pl-kos">}</span>
        
        <span class="pl-c">// 5. è§¦å‘loadäº‹ä»¶</span>
        <span class="pl-smi">this</span><span class="pl-kos">.</span><span class="pl-c1">readyState</span> <span class="pl-c1">=</span> <span class="pl-smi">this</span><span class="pl-kos">.</span><span class="pl-c1">DONE</span><span class="pl-kos">;</span>
        <span class="pl-smi">this</span><span class="pl-kos">.</span><span class="pl-en">dispatchEvent</span><span class="pl-kos">(</span><span class="pl-k">new</span> <span class="pl-v">Event</span><span class="pl-kos">(</span><span class="pl-s">'load'</span><span class="pl-kos">)</span><span class="pl-kos">)</span><span class="pl-kos">;</span>
    <span class="pl-kos">}</span>
<span class="pl-kos">}</span></pre></div>
<h2>10. ğŸ¯ Axios Promiseè§£æ</h2>
<h3>10.1 å“åº”æ•°æ®è½¬æ¢</h3>
<div class="highlight highlight-source-js"><pre class="notranslate"><span class="pl-c">// Axioså“åº”å¤„ç†é“¾</span>
<span class="pl-k">function</span> <span class="pl-en">transformResponseData</span><span class="pl-kos">(</span><span class="pl-s1">response</span><span class="pl-kos">)</span> <span class="pl-kos">{</span>
    <span class="pl-c">// 1. æ•°æ®è½¬æ¢</span>
    <span class="pl-k">if</span> <span class="pl-kos">(</span><span class="pl-s1">response</span><span class="pl-kos">.</span><span class="pl-c1">config</span><span class="pl-kos">.</span><span class="pl-c1">transformResponse</span><span class="pl-kos">)</span> <span class="pl-kos">{</span>
        <span class="pl-s1">response</span><span class="pl-kos">.</span><span class="pl-c1">data</span> <span class="pl-c1">=</span> <span class="pl-en">transformData</span><span class="pl-kos">(</span>
            <span class="pl-s1">response</span><span class="pl-kos">.</span><span class="pl-c1">data</span><span class="pl-kos">,</span>
            <span class="pl-s1">response</span><span class="pl-kos">.</span><span class="pl-c1">headers</span><span class="pl-kos">,</span>
            <span class="pl-s1">response</span><span class="pl-kos">.</span><span class="pl-c1">config</span><span class="pl-kos">.</span><span class="pl-c1">transformResponse</span>
        <span class="pl-kos">)</span><span class="pl-kos">;</span>
    <span class="pl-kos">}</span>
    
    <span class="pl-c">// 2. é€‚é…å™¨ç‰¹å®šå¤„ç†</span>
    <span class="pl-k">if</span> <span class="pl-kos">(</span><span class="pl-s1">response</span><span class="pl-kos">.</span><span class="pl-c1">config</span><span class="pl-kos">.</span><span class="pl-c1">adapter</span><span class="pl-kos">)</span> <span class="pl-kos">{</span>
        <span class="pl-s1">response</span><span class="pl-kos">.</span><span class="pl-c1">data</span> <span class="pl-c1">=</span> <span class="pl-s1">response</span><span class="pl-kos">.</span><span class="pl-c1">config</span><span class="pl-kos">.</span><span class="pl-c1">adapter</span><span class="pl-kos">.</span><span class="pl-c1">defaults</span><span class="pl-kos">.</span><span class="pl-c1">transformResponse</span><span class="pl-kos">[</span><span class="pl-c1">0</span><span class="pl-kos">]</span><span class="pl-kos">(</span>
            <span class="pl-s1">response</span><span class="pl-kos">.</span><span class="pl-c1">data</span>
        <span class="pl-kos">)</span><span class="pl-kos">;</span>
    <span class="pl-kos">}</span>
    
    <span class="pl-c">// 3. è¿”å›æœ€ç»ˆæ•°æ®</span>
    <span class="pl-k">return</span> <span class="pl-s1">response</span><span class="pl-kos">;</span>
<span class="pl-kos">}</span>

<span class="pl-c">// æ‹¦æˆªå™¨åç½®å¤„ç†</span>
<span class="pl-k">function</span> <span class="pl-en">onFulfilled</span><span class="pl-kos">(</span><span class="pl-s1">response</span><span class="pl-kos">)</span> <span class="pl-kos">{</span>
    <span class="pl-c">// æ‰§è¡Œå“åº”æ‹¦æˆªå™¨</span>
    <span class="pl-s1">responseInterceptorChain</span><span class="pl-kos">.</span><span class="pl-en">forEach</span><span class="pl-kos">(</span><span class="pl-s1">interceptor</span> <span class="pl-c1">=&gt;</span> <span class="pl-kos">{</span>
        <span class="pl-s1">response</span> <span class="pl-c1">=</span> <span class="pl-s1">interceptor</span><span class="pl-kos">.</span><span class="pl-en">fulfilled</span><span class="pl-kos">(</span><span class="pl-s1">response</span><span class="pl-kos">)</span><span class="pl-kos">;</span>
    <span class="pl-kos">}</span><span class="pl-kos">)</span><span class="pl-kos">;</span>
    
    <span class="pl-c">// è§£æPromise</span>
    <span class="pl-k">return</span> <span class="pl-v">Promise</span><span class="pl-kos">.</span><span class="pl-en">resolve</span><span class="pl-kos">(</span><span class="pl-s1">response</span><span class="pl-kos">)</span><span class="pl-kos">;</span>
<span class="pl-kos">}</span></pre></div>
<h2>ğŸ“Š å®Œæ•´æµç¨‹æ—¶åºå›¾</h2>
<div class="highlight highlight-source-mermaid"><pre class="notranslate"><span class="pl-k">sequenceDiagram</span>
    <span class="pl-k">participant</span> <span class="pl-ent">U</span> <span class="pl-k">as</span> <span class="pl-ent">ç”¨æˆ·</span>
    <span class="pl-k">participant</span> <span class="pl-ent">B</span> <span class="pl-k">as</span> <span class="pl-ent">æµè§ˆå™¨UI</span>
    <span class="pl-k">participant</span> <span class="pl-ent">R</span> <span class="pl-k">as</span> <span class="pl-ent">æ¸²æŸ“è¿›ç¨‹</span>
    <span class="pl-k">participant</span> <span class="pl-ent">N</span> <span class="pl-k">as</span> <span class="pl-ent">ç½‘ç»œè¿›ç¨‹</span>
    <span class="pl-k">participant</span> <span class="pl-ent">OS</span> <span class="pl-k">as</span> <span class="pl-ent">æ“ä½œç³»ç»Ÿ</span>
    <span class="pl-k">participant</span> <span class="pl-ent">HW</span> <span class="pl-k">as</span> <span class="pl-ent">ç½‘ç»œç¡¬ä»¶</span>
    <span class="pl-k">participant</span> <span class="pl-ent">S</span> <span class="pl-k">as</span> <span class="pl-ent">æœåŠ¡å™¨</span>
    <span class="pl-k">participant</span> <span class="pl-ent">DB</span> <span class="pl-k">as</span> <span class="pl-ent">æ•°æ®åº“</span>

    <span class="pl-ent">U</span><span class="pl-k">-&gt;&gt;</span><span class="pl-ent">B</span><span class="pl-k">:</span> <span class="pl-s">ç‚¹å‡»æäº¤æŒ‰é’®</span>
    <span class="pl-ent">B</span><span class="pl-k">-&gt;&gt;</span><span class="pl-ent">R</span><span class="pl-k">:</span> <span class="pl-s">IPCäº‹ä»¶ä¼ é€’</span>
    <span class="pl-ent">R</span><span class="pl-k">-&gt;&gt;</span><span class="pl-ent">R</span><span class="pl-k">:</span> <span class="pl-s">JavaScriptæ‰§è¡Œ(Axios)</span>
    <span class="pl-ent">R</span><span class="pl-k">-&gt;&gt;</span><span class="pl-ent">N</span><span class="pl-k">:</span> <span class="pl-s">IPCç½‘ç»œè¯·æ±‚</span>
    <span class="pl-ent">N</span><span class="pl-k">-&gt;&gt;</span><span class="pl-ent">OS</span><span class="pl-k">:</span> <span class="pl-s">ç³»ç»Ÿè°ƒç”¨(socket)</span>
    <span class="pl-ent">OS</span><span class="pl-k">-&gt;&gt;</span><span class="pl-ent">HW</span><span class="pl-k">:</span> <span class="pl-s">é©±åŠ¨è°ƒç”¨</span>
    <span class="pl-ent">HW</span><span class="pl-k">-&gt;&gt;</span><span class="pl-ent">S</span><span class="pl-k">:</span> <span class="pl-s">ç½‘ç»œä¼ è¾“</span>
    <span class="pl-ent">S</span><span class="pl-k">-&gt;&gt;</span><span class="pl-ent">S</span><span class="pl-k">:</span> <span class="pl-s">SpringBootå¤„ç†</span>
    <span class="pl-ent">S</span><span class="pl-k">-&gt;&gt;</span><span class="pl-ent">DB</span><span class="pl-k">:</span> <span class="pl-s">æ•°æ®åº“æ“ä½œ</span>
    <span class="pl-ent">DB</span><span class="pl-k">-&gt;&gt;</span><span class="pl-ent">S</span><span class="pl-k">:</span> <span class="pl-s">è¿”å›æ•°æ®</span>
    <span class="pl-ent">S</span><span class="pl-k">-&gt;&gt;</span><span class="pl-ent">HW</span><span class="pl-k">:</span> <span class="pl-s">å“åº”è¿”å›</span>
    <span class="pl-ent">HW</span><span class="pl-k">-&gt;&gt;</span><span class="pl-ent">OS</span><span class="pl-k">:</span> <span class="pl-s">ç¡¬ä»¶ä¸­æ–­</span>
    <span class="pl-ent">OS</span><span class="pl-k">-&gt;&gt;</span><span class="pl-ent">N</span><span class="pl-k">:</span> <span class="pl-s">æ•°æ®å°±ç»ª</span>
    <span class="pl-ent">N</span><span class="pl-k">-&gt;&gt;</span><span class="pl-ent">R</span><span class="pl-k">:</span> <span class="pl-s">IPCå“åº”æ•°æ®</span>
    <span class="pl-ent">R</span><span class="pl-k">-&gt;&gt;</span><span class="pl-ent">R</span><span class="pl-k">:</span> <span class="pl-s">Promiseè§£æ</span>
    <span class="pl-ent">R</span><span class="pl-k">-&gt;&gt;</span><span class="pl-ent">B</span><span class="pl-k">:</span> <span class="pl-s">æ›´æ–°UI</span>
    <span class="pl-ent">B</span><span class="pl-k">-&gt;&gt;</span><span class="pl-ent">U</span><span class="pl-k">:</span> <span class="pl-s">æ˜¾ç¤ºç»“æœ</span></pre></div>
<h2>ğŸ”§ æ€§èƒ½ä¼˜åŒ–å…³é”®ç‚¹</h2>
<h3>ç½‘ç»œå±‚é¢ä¼˜åŒ–</h3>
<ol>
<li><strong>DNSé¢„è§£æ</strong>ï¼š<code class="notranslate">&lt;link rel="dns-prefetch"&gt;</code></li>
<li><strong>TCPé¢„è¿æ¥</strong>ï¼š<code class="notranslate">&lt;link rel="preconnect"&gt;</code></li>
<li><strong>HTTP/2å¤šè·¯å¤ç”¨</strong>ï¼šå‡å°‘è¿æ¥å»ºç«‹å¼€é”€</li>
<li><strong>QUICåè®®</strong>ï¼šHTTP/3çš„0-RTTè¿æ¥</li>
</ol>
<h3>æµè§ˆå™¨å±‚é¢ä¼˜åŒ–</h3>
<ol>
<li><strong>è¯·æ±‚åˆå¹¶</strong>ï¼šå‡å°‘HTTPè¯·æ±‚æ•°é‡</li>
<li><strong>ç¼“å­˜ç­–ç•¥</strong>ï¼šåˆç†è®¾ç½®Cache-Control</li>
<li><strong>å‹ç¼©ä¼ è¾“</strong>ï¼šgzip/brotliå‹ç¼©</li>
<li><strong>CDNåŠ é€Ÿ</strong>ï¼šå‡å°‘ç½‘ç»œå»¶è¿Ÿ</li>
</ol>
<h3>æœåŠ¡å™¨å±‚é¢ä¼˜åŒ–</h3>
<ol>
<li><strong>è¿æ¥æ± </strong>ï¼šæ•°æ®åº“è¿æ¥å¤ç”¨</li>
<li><strong>å¼‚æ­¥å¤„ç†</strong>ï¼šé¿å…çº¿ç¨‹é˜»å¡</li>
<li><strong>ç¼“å­˜å±‚</strong>ï¼šRedisç­‰ç¼“å­˜çƒ­ç‚¹æ•°æ®</li>
<li><strong>è´Ÿè½½å‡è¡¡</strong>ï¼šåˆ†å¸ƒå¼å¤„ç†è¯·æ±‚</li>
</ol>
<h2>ğŸ¯ æ€»ç»“</h2>
<p>æ•´ä¸ªHTTPè¯·æ±‚çš„ç”Ÿå‘½å‘¨æœŸæ¶‰åŠä»<strong>ç”¨æˆ·äº¤äº’</strong>åˆ°<strong>ç¡¬ä»¶ä¼ è¾“</strong>ï¼Œå†åˆ°<strong>æœåŠ¡å™¨å¤„ç†</strong>å’Œ<strong>å“åº”è¿”å›</strong>çš„å®Œæ•´é“¾æ¡ã€‚æ¯ä¸ªç¯èŠ‚éƒ½æœ‰å¤æ‚çš„åº•å±‚æŠ€æœ¯æ”¯æ’‘ï¼š</p>
<ul>
<li><strong>å‰ç«¯</strong>ï¼šæµè§ˆå™¨å¤šè¿›ç¨‹æ¶æ„ã€äº‹ä»¶å¾ªç¯ã€APIè°ƒç”¨</li>
<li><strong>ç½‘ç»œ</strong>ï¼šTCP/IPåè®®æ ˆã€è·¯ç”±é€‰æ‹©ã€æ‹¥å¡æ§åˆ¶</li>
<li><strong>ç¡¬ä»¶</strong>ï¼šä¸­æ–­å¤„ç†ã€DMAä¼ è¾“ã€ä¿¡å·è°ƒåˆ¶</li>
<li><strong>åç«¯</strong>ï¼šIOå¤šè·¯å¤ç”¨ã€çº¿ç¨‹æ± ã€æ•°æ®åº“è¿æ¥æ± </li>
</ul>
<p>ç†è§£è¿™ä¸ªå®Œæ•´æµç¨‹æœ‰åŠ©äºæˆ‘ä»¬ï¼š</p>
<ol>
<li><strong>å®šä½æ€§èƒ½ç“¶é¢ˆ</strong>ï¼šå‡†ç¡®æ‰¾åˆ°æ…¢è¯·æ±‚çš„åŸå› </li>
<li><strong>ä¼˜åŒ–ç³»ç»Ÿè®¾è®¡</strong>ï¼šé’ˆå¯¹è–„å¼±ç¯èŠ‚è¿›è¡Œä¼˜åŒ–</li>
<li><strong>è°ƒè¯•å¤æ‚é—®é¢˜</strong>ï¼šè·¨å±‚è°ƒè¯•ç½‘ç»œå’Œç³»ç»Ÿé—®é¢˜</li>
<li><strong>è®¾è®¡é«˜å¹¶å‘ç³»ç»Ÿ</strong>ï¼šç†è§£å„ç¯èŠ‚çš„å¹¶å‘å¤„ç†èƒ½åŠ›</li>
</ol>
<p>è¿™ç¡®å®æ˜¯ä¸€ä¸ªä»<strong>ç‚¹å‡»åˆ°åƒç´ </strong>çš„å®Œæ•´æŠ€æœ¯ä¹‹æ—…ï¼ ğŸš€</p></div>
<div style="font-size:small;margin-top:8px;float:right;"></div>

<button class="btn btn-block" type="button" onclick="openComments()" id="cmButton">è¯„è®º</button>
<div class="comments" id="comments"></div>

</div>
    <div id="footer"><div id="footer1">Copyright Â© <span id="copyrightYear"></span> <a href="https://luminku.github.io">å¸ƒè°·åšå®¢</a></div>
<div id="footer2">
    <span id="runday"></span><span>Powered by <a href="https://meekdai.com/Gmeek.html" target="_blank">Gmeek</a></span>
</div>

<script>
var now=new Date();
document.getElementById("copyrightYear").innerHTML=now.getFullYear();

if(""!=""){
    var startSite=new Date("");
    var diff=now.getTime()-startSite.getTime();
    var diffDay=Math.floor(diff/(1000*60*60*24));
    document.getElementById("runday").innerHTML="ç½‘ç«™è¿è¡Œ "+diffDay+" å¤©"+" â€¢ ";
}
</script></div>
</body>
<script>
var IconList={'sun': 'M8 10.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5zM8 12a4 4 0 100-8 4 4 0 000 8zM8 0a.75.75 0 01.75.75v1.5a.75.75 0 01-1.5 0V.75A.75.75 0 018 0zm0 13a.75.75 0 01.75.75v1.5a.75.75 0 01-1.5 0v-1.5A.75.75 0 018 13zM2.343 2.343a.75.75 0 011.061 0l1.06 1.061a.75.75 0 01-1.06 1.06l-1.06-1.06a.75.75 0 010-1.06zm9.193 9.193a.75.75 0 011.06 0l1.061 1.06a.75.75 0 01-1.06 1.061l-1.061-1.06a.75.75 0 010-1.061zM16 8a.75.75 0 01-.75.75h-1.5a.75.75 0 010-1.5h1.5A.75.75 0 0116 8zM3 8a.75.75 0 01-.75.75H.75a.75.75 0 010-1.5h1.5A.75.75 0 013 8zm10.657-5.657a.75.75 0 010 1.061l-1.061 1.06a.75.75 0 11-1.06-1.06l1.06-1.06a.75.75 0 011.06 0zm-9.193 9.193a.75.75 0 010 1.06l-1.06 1.061a.75.75 0 11-1.061-1.06l1.06-1.061a.75.75 0 011.061 0z', 'moon': 'M9.598 1.591a.75.75 0 01.785-.175 7 7 0 11-8.967 8.967.75.75 0 01.961-.96 5.5 5.5 0 007.046-7.046.75.75 0 01.175-.786zm1.616 1.945a7 7 0 01-7.678 7.678 5.5 5.5 0 107.678-7.678z', 'sync': 'M1.705 8.005a.75.75 0 0 1 .834.656 5.5 5.5 0 0 0 9.592 2.97l-1.204-1.204a.25.25 0 0 1 .177-.427h3.646a.25.25 0 0 1 .25.25v3.646a.25.25 0 0 1-.427.177l-1.38-1.38A7.002 7.002 0 0 1 1.05 8.84a.75.75 0 0 1 .656-.834ZM8 2.5a5.487 5.487 0 0 0-4.131 1.869l1.204 1.204A.25.25 0 0 1 4.896 6H1.25A.25.25 0 0 1 1 5.75V2.104a.25.25 0 0 1 .427-.177l1.38 1.38A7.002 7.002 0 0 1 14.95 7.16a.75.75 0 0 1-1.49.178A5.5 5.5 0 0 0 8 2.5Z', 'home': 'M6.906.664a1.749 1.749 0 0 1 2.187 0l5.25 4.2c.415.332.657.835.657 1.367v7.019A1.75 1.75 0 0 1 13.25 15h-3.5a.75.75 0 0 1-.75-.75V9H7v5.25a.75.75 0 0 1-.75.75h-3.5A1.75 1.75 0 0 1 1 13.25V6.23c0-.531.242-1.034.657-1.366l5.25-4.2Zm1.25 1.171a.25.25 0 0 0-.312 0l-5.25 4.2a.25.25 0 0 0-.094.196v7.019c0 .138.112.25.25.25H5.5V8.25a.75.75 0 0 1 .75-.75h3.5a.75.75 0 0 1 .75.75v5.25h2.75a.25.25 0 0 0 .25-.25V6.23a.25.25 0 0 0-.094-.195Z', 'github': 'M8 0c4.42 0 8 3.58 8 8a8.013 8.013 0 0 1-5.45 7.59c-.4.08-.55-.17-.55-.38 0-.27.01-1.13.01-2.2 0-.75-.25-1.23-.54-1.48 1.78-.2 3.65-.88 3.65-3.95 0-.88-.31-1.59-.82-2.15.08-.2.36-1.02-.08-2.12 0 0-.67-.22-2.2.82-.64-.18-1.32-.27-2-.27-.68 0-1.36.09-2 .27-1.53-1.03-2.2-.82-2.2-.82-.44 1.1-.16 1.92-.08 2.12-.51.56-.82 1.28-.82 2.15 0 3.06 1.86 3.75 3.64 3.95-.23.2-.44.55-.51 1.07-.46.21-1.61.55-2.33-.66-.15-.24-.6-.83-1.23-.82-.67.01-.27.38.01.53.34.19.73.9.82 1.13.16.45.68 1.31 2.69.94 0 .67.01 1.3.01 1.49 0 .21-.15.45-.55.38A7.995 7.995 0 0 1 0 8c0-4.42 3.58-8 8-8Z', 'copy': 'M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z', 'check': 'M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z'};
var utterancesLoad=0;

let themeSettings={
    "dark": ["dark","moon","#00f0ff","dark-blue"],
    "light": ["light","sun","#ff5000","github-light"],
    "auto": ["auto","sync","","preferred-color-scheme"]
};
function changeTheme(mode, icon, color, utheme){
    document.documentElement.setAttribute("data-color-mode",mode);
    document.getElementById("themeSwitch").setAttribute("d",value=IconList[icon]);
    document.getElementById("themeSwitch").parentNode.style.color=color;
    if(utterancesLoad==1){utterancesTheme(utheme);}
}
function modeSwitch(){
    let currentMode=document.documentElement.getAttribute('data-color-mode');
    let newMode = currentMode === "light" ? "dark" : currentMode === "dark" ? "auto" : "light";
    localStorage.setItem("meek_theme", newMode);
    if(themeSettings[newMode]){
        changeTheme(...themeSettings[newMode]);
    }
}
function utterancesTheme(theme){
    const message={type:'set-theme',theme: theme};
    const iframe=document.getElementsByClassName('utterances-frame')[0];
    iframe.contentWindow.postMessage(message,'https://utteranc.es');
}
if(themeSettings[theme]){changeTheme(...themeSettings[theme]);}
console.log("\n %c Gmeek last https://github.com/Meekdai/Gmeek \n","padding:5px 0;background:#02d81d;color:#fff");
</script>

<script>
document.getElementById("pathHome").setAttribute("d",IconList["home"]);
document.getElementById("pathIssue").setAttribute("d",IconList["github"]);



function openComments(){
    cm=document.getElementById("comments");
    cmButton=document.getElementById("cmButton");
    cmButton.disabled=true;
    cmButton.innerHTML="loading";
    span=document.createElement("span");
    span.setAttribute("class","AnimatedEllipsis");
    cmButton.appendChild(span);

    script=document.createElement("script");
    script.setAttribute("src","https://utteranc.es/client.js");
    script.setAttribute("repo","LuminKu/luminku.github.io");
    script.setAttribute("issue-term","title");
    
    if(localStorage.getItem("meek_theme")=="dark"){script.setAttribute("theme","dark-blue");}
    else if(localStorage.getItem("meek_theme")=="light") {script.setAttribute("theme","github-light");}
    else{script.setAttribute("theme","preferred-color-scheme");}
    
    script.setAttribute("crossorigin","anonymous");
    script.setAttribute("async","");
    cm.appendChild(script);

    int=self.setInterval("iFrameLoading()",200);
}

function iFrameLoading(){
    var utterances=document.getElementsByClassName('utterances');
    if(utterances.length==1){
        if(utterances[0].style.height!=""){
            utterancesLoad=1;
            int=window.clearInterval(int);
            document.getElementById("cmButton").style.display="none";
            console.log("utterances Load OK");
        }
    }
}

document.addEventListener('DOMContentLoaded', () => {
    const createClipboardHTML = (codeContent, additionalClasses = '') => `
        <pre class="notranslate"><code class="notranslate">${codeContent}</code></pre>
        <div class="clipboard-container position-absolute right-0 top-0 ${additionalClasses}">
            <clipboard-copy class="ClipboardButton btn m-2 p-0" role="button" style="display: inherit;">
                <svg height="16" width="16" class="octicon octicon-copy m-2"><path d="${IconList["copy"]}"></path></svg>
                <svg height="16" width="16" class="octicon octicon-check color-fg-success m-2 d-none"><path d="${IconList["check"]}"></path></svg>
            </clipboard-copy>
            <div class="copy-feedback">Copied!</div>
        </div>
    `;

    const handleCodeElements = (selector = '') => {
        document.querySelectorAll(selector).forEach(codeElement => {
            const codeContent = codeElement.innerHTML;
            const newStructure = document.createElement('div');
            newStructure.className = 'snippet-clipboard-content position-relative overflow-auto';
            newStructure.innerHTML = createClipboardHTML(codeContent);

            const parentElement = codeElement.parentElement;
            if (selector.includes('highlight')) {
                parentElement.insertBefore(newStructure, codeElement.nextSibling);
                parentElement.removeChild(codeElement);
            } else {
                parentElement.parentElement.replaceChild(newStructure, parentElement);
            }
        });
    };

    handleCodeElements('pre.notranslate > code.notranslate');
    handleCodeElements('div.highlight > pre.notranslate');

    let currentFeedback = null;
    document.querySelectorAll('clipboard-copy').forEach(copyButton => {
        copyButton.addEventListener('click', () => {
            const codeContent = copyButton.closest('.snippet-clipboard-content').innerText;
            const tempTextArea = document.createElement('textarea');
            tempTextArea.value = codeContent;
            document.body.appendChild(tempTextArea);
            tempTextArea.select();
            document.execCommand('copy');
            document.body.removeChild(tempTextArea);

            const copyIcon = copyButton.querySelector('.octicon-copy');
            const checkIcon = copyButton.querySelector('.octicon-check');
            const copyFeedback = copyButton.nextElementSibling;

            if (currentFeedback && currentFeedback !== copyFeedback) {currentFeedback.style.display = 'none';}
            currentFeedback = copyFeedback;

            copyIcon.classList.add('d-none');
            checkIcon.classList.remove('d-none');
            copyFeedback.style.display = 'block';
            copyButton.style.borderColor = 'var(--color-success-fg)';

            setTimeout(() => {
                copyIcon.classList.remove('d-none');
                checkIcon.classList.add('d-none');
                copyFeedback.style.display = 'none';
                copyButton.style.borderColor = '';
            }, 2000);
        });
    });
});

</script>


</html>
