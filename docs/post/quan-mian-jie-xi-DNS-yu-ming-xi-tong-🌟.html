<!DOCTYPE html>
<html data-color-mode="light" data-dark-theme="dark" data-light-theme="light" lang="zh-CN">
<head>
    <meta content="text/html; charset=utf-8" http-equiv="content-type" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <link href='https://mirrors.sustech.edu.cn/cdnjs/ajax/libs/Primer/21.0.7/primer.css' rel='stylesheet' />
    
    <link rel="icon" href="https://avatars.githubusercontent.com/u/240149665?v=4"><script>
        let theme = localStorage.getItem("meek_theme") || "light";
        document.documentElement.setAttribute("data-color-mode", theme);
    </script>
<meta name="description" content="本文将全面系统地为你讲解DNS域名系统，内容包括基础概念、工作原理、层次结构、记录类型、传播机制以及安全与发展趋势。">
<meta property="og:title" content="全面解析DNS域名系统🌟">
<meta property="og:description" content="本文将全面系统地为你讲解DNS域名系统，内容包括基础概念、工作原理、层次结构、记录类型、传播机制以及安全与发展趋势。">
<meta property="og:type" content="article">
<meta property="og:url" content="https://luminku.github.io/post/quan-mian-jie-xi-DNS-yu-ming-xi-tong-%F0%9F%8C%9F.html">
<meta property="og:image" content="https://avatars.githubusercontent.com/u/240149665?v=4">
<title>全面解析DNS域名系统🌟</title>



</head>
<style>
body{box-sizing: border-box;min-width: 200px;max-width: 900px;margin: 20px auto;padding: 45px;font-size: 16px;font-family: sans-serif;line-height: 1.25;}
#header{display:flex;padding-bottom:8px;border-bottom: 1px solid var(--borderColor-muted, var(--color-border-muted));margin-bottom: 16px;}
#footer {margin-top:64px; text-align: center;font-size: small;}

</style>

<style>
.postTitle{margin: auto 0;font-size:40px;font-weight:bold;}
.title-right{display:flex;margin:auto 0 0 auto;}
.title-right .circle{padding: 14px 16px;margin-right:8px;}
#postBody{border-bottom: 1px solid var(--color-border-default);padding-bottom:36px;}
#postBody hr{height:2px;}
#cmButton{height:48px;margin-top:48px;}
#comments{margin-top:64px;}
.g-emoji{font-size:24px;}
@media (max-width: 600px) {
    body {padding: 8px;}
    .postTitle{font-size:24px;}
}

</style>




<body>
    <div id="header">
<h1 class="postTitle">全面解析DNS域名系统🌟</h1>
<div class="title-right">
    <a href="https://luminku.github.io" id="buttonHome" class="btn btn-invisible circle" title="首页">
        <svg class="octicon" width="16" height="16">
            <path id="pathHome" fill-rule="evenodd"></path>
        </svg>
    </a>
    
    <a href="https://github.com/LuminKu/luminku.github.io/issues/3" target="_blank" class="btn btn-invisible circle" title="Issue">
        <svg class="octicon" width="16" height="16">
            <path id="pathIssue" fill-rule="evenodd"></path>
        </svg>
    </a>
    

    <a class="btn btn-invisible circle" onclick="modeSwitch();" title="切换主题">
        <svg class="octicon" width="16" height="16" >
            <path id="themeSwitch" fill-rule="evenodd"></path>
        </svg>
    </a>

</div>
</div>
    <div id="content">
<div class="markdown-body" id="postBody"><p>本文将全面系统地为你讲解DNS域名系统，内容包括基础概念、工作原理、层次结构、记录类型、传播机制以及安全与发展趋势。接下来我会分点展开详细说明：</p>
<h1>🌐 全面解析DNS域名系统：从原理到实践</h1>
<h2>1. 什么是DNS？— 互联网的"电话簿"</h2>
<p>DNS（Domain Name System，域名系统）是互联网的核心服务，它充当了一个巨大的"数字电话簿"，负责将人类可读的<strong>域名</strong>（如 <code class="notranslate">www.google.com</code>）转换为机器可识别的<strong>IP地址</strong>（如 <code class="notranslate">142.251.42.206</code>）。</p>
<p><strong>核心价值</strong>：</p>
<ul>
<li><strong>记忆友好</strong>：人们无需记住复杂的数字IP地址</li>
<li><strong>抽象层</strong>：即使网站服务器IP地址变更，用户仍可通过原域名访问</li>
<li><strong>互联网基础</strong>：没有DNS，现代互联网将无法正常运行</li>
</ul>
<h2>2. DNS的层次结构与级别 🏗️</h2>
<p>DNS采用分布式、层次化的树状结构，确保高效稳定地管理全球域名。</p>
<h3>DNS服务器层级：</h3>
<markdown-accessiblity-table><table role="table">
<thead>
<tr>
<th>层级</th>
<th>作用</th>
<th>示例</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>根服务器</strong></td>
<td>管理顶级域名服务器的地址</td>
<td>全球13组根服务器</td>
</tr>
<tr>
<td><strong>顶级域服务器</strong></td>
<td>管理特定顶级域的解析</td>
<td>.com、.org、.cn等</td>
</tr>
<tr>
<td><strong>权威域名服务器</strong></td>
<td>存储特定域名的详细解析信息</td>
<td>存储google.com的IP地址</td>
</tr>
<tr>
<td><strong>递归DNS服务器</strong></td>
<td>代表用户查询DNS信息的本地服务器</td>
<td>运营商DNS、公共DNS</td>
</tr>
</tbody>
</table></markdown-accessiblity-table>
<h3>域名级别结构：</h3>
<p>以 <code class="notranslate">blog.example.com</code> 为例：</p>
<ul>
<li><strong>根域名</strong>：最后的<code class="notranslate">.</code>（通常省略）</li>
<li><strong>顶级域名</strong>：<code class="notranslate">.com</code></li>
<li><strong>二级域名</strong>：<code class="notranslate">example.com</code></li>
<li><strong>三级域名</strong>：<code class="notranslate">blog.example.com</code></li>
</ul>
<h2>3. DNS解析全过程详解 🔍</h2>
<p>当你访问 <code class="notranslate">www.baidu.com</code> 时，DNS解析经历了以下精妙过程：</p>
<ol>
<li>
<p><strong>浏览器缓存检查</strong>：浏览器先检查自身缓存是否有该域名的IP记录</p>
</li>
<li>
<p><strong>系统缓存检查</strong>：查询操作系统hosts文件和DNS缓存</p>
</li>
<li>
<p><strong>本地DNS服务器查询</strong>：向ISP提供的递归DNS服务器发送请求</p>
</li>
<li>
<p><strong>根域名服务器查询</strong>：若无缓存，递归服务器向根服务器查询，获取<code class="notranslate">.com</code>顶级域服务器地址</p>
</li>
<li>
<p><strong>顶级域服务器查询</strong>：递归服务器向<code class="notranslate">.com</code>服务器查询，获取权威域名服务器地址</p>
</li>
<li>
<p><strong>权威服务器查询</strong>：递归服务器向域名的权威服务器查询，获得最终的IP地址</p>
</li>
<li>
<p><strong>结果返回与缓存</strong>：IP地址返回给用户设备，各环节缓存该结果</p>
</li>
</ol>
<p>整个过程<strong>通常在毫秒级完成</strong>，展示了DNS系统的高效设计。</p>
<h2>4. 常见DNS记录类型大全 📝</h2>
<p>了解各种DNS记录类型对管理域名至关重要：</p>
<markdown-accessiblity-table><table role="table">
<thead>
<tr>
<th>记录类型</th>
<th>功能</th>
<th>应用场景</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>A记录</strong></td>
<td>将域名指向IPv4地址</td>
<td>网站主机解析</td>
</tr>
<tr>
<td><strong>AAAA记录</strong></td>
<td>将域名指向IPv6地址</td>
<td>IPv6网站访问</td>
</tr>
<tr>
<td><strong>CNAME记录</strong></td>
<td>创建域名的别名</td>
<td>将www指向主域名</td>
</tr>
<tr>
<td><strong>MX记录</strong></td>
<td>指定邮件服务器</td>
<td>电子邮件路由</td>
</tr>
<tr>
<td><strong>TXT记录</strong></td>
<td>存储任意文本信息</td>
<td>SPF认证、域名验证</td>
</tr>
<tr>
<td><strong>NS记录</strong></td>
<td>指定域名服务器</td>
<td>域名解析授权</td>
</tr>
<tr>
<td><strong>SOA记录</strong></td>
<td>存储域管理信息</td>
<td>区域传输基础</td>
</tr>
</tbody>
</table></markdown-accessiblity-table>
<p>完善后的DNS记录传播分类及应用场景表格：</p>
<markdown-accessiblity-table><table role="table">
<thead>
<tr>
<th>DNS记录类型</th>
<th>功能</th>
<th>传播分类</th>
<th>应用场景</th>
</tr>
</thead>
<tbody>
<tr>
<td>A记录</td>
<td>提供域的IPv4地址</td>
<td>一般在DNS服务器中直接更新，传播速度较快，通常几分钟到几小时</td>
<td>网站服务器IP绑定、负载均衡VIP指向</td>
</tr>
<tr>
<td>AAAA记录</td>
<td>存储域的IPv6地址</td>
<td>与A记录类似，传播时间受DNS服务器缓存等因素影响</td>
<td>网站或服务支持IPv6时配置</td>
</tr>
<tr>
<td>CNAME记录</td>
<td>当一个域/子域必须指向另一个域/子域而不是指向IP地址时使用</td>
<td>传播时间取决于上级DNS服务器的缓存更新</td>
<td>CDN配置、将子域名指向同一个公共域名</td>
</tr>
<tr>
<td>NS记录</td>
<td>描述特定域的权威名称服务器</td>
<td>更新后需要一定时间让其他DNS服务器知晓新的权威服务器</td>
<td>域名托管到第三方DNS服务商、子域名单独使用其他DNS解析</td>
</tr>
<tr>
<td>MX记录</td>
<td>指定特定域的电子邮件必须指向的位置</td>
<td>传播时间受DNS服务器缓存及邮件服务器更新频率影响</td>
<td>企业邮箱配置、邮件高可用部署</td>
</tr>
<tr>
<td>TXT记录</td>
<td>在域的DNS记录中输入文本说明/注释</td>
<td>传播时间相对较快，但具体时间取决于DNS服务器的缓存设置</td>
<td>域名验证（如Google、Office365、SSL验证等）、SPF（反垃圾邮件）、DKIM（邮件签名）、DMARC（邮件策略）</td>
</tr>
<tr>
<td>PTR记录</td>
<td>将域名存储在特定IP地址下，用于反向IP查找</td>
<td>传播时间与DNS服务器的缓存更新周期有关</td>
<td>邮件服务器反向解析验证、服务器身份验证</td>
</tr>
<tr>
<td>SRV记录</td>
<td>定义域中各种服务的端口</td>
<td>传播时间受DNS服务器的缓存及服务发现机制影响</td>
<td>即时通信（IM）、VoIP、Kubernetes CoreDNS服务发现</td>
</tr>
<tr>
<td>SOA记录</td>
<td>存储有关DNS区域的重要管理信息和详细信息</td>
<td>作为区域文件的起点，其更新会触发其他相关记录的传播</td>
<td>区域文件版本控制与更新管理</td>
</tr>
<tr>
<td>CAA记录</td>
<td>域使用此记录来描述哪些证书颁发机构（CA）可以为其颁发证书</td>
<td>传播时间相对较快，但需要证书颁发机构及时更新</td>
<td>防止未经授权的证书签发、提升SSL安全等级</td>
</tr>
<tr>
<td>DS记录</td>
<td>用作DNSSEC系统的一部分，用于提高域的安全性</td>
<td>作为DNSSEC验证的一部分，其传播时间与DNSSEC的更新机制相关</td>
<td>提升域名解析的安全性</td>
</tr>
<tr>
<td>DNSKEY记录</td>
<td>包含公共签名密钥，这是验证和接受DNS记录所需的</td>
<td>传播时间与DNSSEC的更新机制相关</td>
<td>DNS签名验证</td>
</tr>
</tbody>
</table></markdown-accessiblity-table>
<h2>5. DNS传播机制与TTL ⏱️</h2>
<h3>什么是DNS传播？</h3>
<p>当你修改DNS记录后，这些更改需要时间才能同步到全球所有DNS服务器，这个过程就是<strong>DNS传播</strong>。</p>
<h3>TTL的作用</h3>
<p>TTL（Time To Live）决定DNS记录在缓存中的存活时间：</p>
<ul>
<li><strong>低TTL值</strong>（如300秒）：更改快速生效，但服务器负载较高</li>
<li><strong>高TTL值</strong>（如86400秒）：更改生效慢，但减轻服务器压力</li>
</ul>
<h3>传播时间影响因素</h3>
<ul>
<li><strong>默认传播时间</strong>：通常<strong>24-48小时</strong></li>
<li><strong>ISP策略</strong>：某些ISP可能不严格遵守TTL设置</li>
<li><strong>记录类型</strong>：不同记录类型传播速度可能不同</li>
<li><strong>地理位置</strong>：不同地区更新速度不一致</li>
</ul>
<h3>加速DNS传播的方法</h3>
<ol>
<li><strong>提前降低TTL值</strong>：在更改前数天将TTL调低</li>
<li><strong>使用全球分布式DNS</strong>：如Cloudflare、Google DNS等</li>
<li><strong>清除本地缓存</strong>：设备上执行<code class="notranslate">ipconfig/flushdns</code>（Windows）</li>
<li><strong>请求解析器刷新</strong>：请求公共DNS服务商清除缓存</li>
</ol>
<h2>6. DNS安全与防护措施 🛡️</h2>
<p>DNS面临多种安全威胁，需要相应防护策略：</p>
<h3>常见攻击类型：</h3>
<ul>
<li><strong>DNS劫持</strong>：将用户重定向到恶意网站</li>
<li><strong>DDoS攻击</strong>：用大量查询请求淹没DNS服务器</li>
<li><strong>缓存投毒</strong>：向DNS服务器注入虚假解析记录</li>
</ul>
<h3>安全增强措施：</h3>
<ul>
<li><strong>DNSSEC</strong>：通过数字签名确保DNS数据完整性</li>
<li><strong>DoH/DoT</strong>：加密DNS查询，防止窃听和篡改</li>
<li><strong>防护性DNS</strong>：过滤恶意域名，阻断访问危险网站</li>
<li><strong>定期更新</strong>：及时修补DNS软件漏洞</li>
</ul>
<h2>7. DNS工具推荐与使用 🛠️</h2>
<h3>DNS传播检查工具</h3>
<ul>
<li><strong>在线传播检查器</strong>：可检查全球各地DNS记录生效情况</li>
<li><strong>dig命令</strong>：Linux/macOS下的专业DNS查询工具</li>
<li><strong>nslookup</strong>：Windows内置的DNS查询工具</li>
</ul>
<h3>公共DNS服务推荐</h3>
<ul>
<li><strong>Google DNS</strong>：<code class="notranslate">8.8.8.8</code> 和 <code class="notranslate">8.8.4.4</code></li>
<li><strong>Cloudflare DNS</strong>：<code class="notranslate">1.1.1.1</code></li>
<li><strong>OpenDNS</strong>：<code class="notranslate">208.67.222.222</code></li>
<li><strong>114 DNS</strong>：<code class="notranslate">114.114.114.114</code>（国内）</li>
</ul>
<h2>8. AI时代的DNS发展趋势 🚀</h2>
<p>随着技术进步，DNS正在经历重大演变：</p>
<ul>
<li><strong>AI增强DNS</strong>：利用人工智能实时分析DNS流量，识别攻击模式</li>
<li><strong>性能优化</strong>：AI预测网络状况，动态调整解析策略</li>
<li><strong>算力感知DNS</strong>：为AI训练任务快速定位分布式算力节点</li>
<li><strong>IPv6支持</strong>：适应IPv6地址动态分配的高频更新需求</li>
</ul>
<p>据邬贺铨院士介绍，<strong>AI带来的流量已占互联网流量增量的42-48%</strong>，这对DNS提出了更高要求。下一代DNS将从单纯的域名解析扩展到<strong>服务调度、数据管理和资源认证</strong>等更广泛功能。</p>
<h2>9. 实际应用场景 💼</h2>
<h3>网站访问</h3>
<p>这是DNS最基础的应用，当你在浏览器输入域名时，DNS在后台完成解析，让你无需记忆IP地址。</p>
<h3>负载均衡</h3>
<p>大型网站通过DNS轮询将访问请求分发到多台服务器，提高网站可用性和性能。</p>
<h3>电子邮件传递</h3>
<p>MX记录指定接收邮件的服务器，确保电子邮件正确路由到目标邮件服务器。</p>
<h3>企业内部网络</h3>
<p>企业使用内部DNS解析本地域名，如文件服务器、内部应用等。</p>
<h2>总结</h2>
<p>DNS作为互联网的关键基础设施，从简单的地址解析发展到如今智能化、安全化的综合服务平台。理解DNS的工作原理、记录类型和传播机制，对于网站管理员、开发人员和普通用户都至关重要。随着AI和物联网时代的到来，DNS将继续演进，承担更重要的使命，为数字世界提供坚实支撑。</p>
<p>希望这份全面的DNS指南能帮助你深入理解这个看似简单实则精妙的系统！如果你有特定场景或问题，欢迎进一步讨论 😊。</p></div>
<div style="font-size:small;margin-top:8px;float:right;"></div>

<button class="btn btn-block" type="button" onclick="openComments()" id="cmButton">评论</button>
<div class="comments" id="comments"></div>

</div>
    <div id="footer"><div id="footer1">Copyright © <span id="copyrightYear"></span> <a href="https://luminku.github.io">布谷博客</a></div>
<div id="footer2">
    <span id="runday"></span><span>Powered by <a href="https://meekdai.com/Gmeek.html" target="_blank">Gmeek</a></span>
</div>

<script>
var now=new Date();
document.getElementById("copyrightYear").innerHTML=now.getFullYear();

if(""!=""){
    var startSite=new Date("");
    var diff=now.getTime()-startSite.getTime();
    var diffDay=Math.floor(diff/(1000*60*60*24));
    document.getElementById("runday").innerHTML="网站运行 "+diffDay+" 天"+" • ";
}
</script></div>
</body>
<script>
var IconList={'sun': 'M8 10.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5zM8 12a4 4 0 100-8 4 4 0 000 8zM8 0a.75.75 0 01.75.75v1.5a.75.75 0 01-1.5 0V.75A.75.75 0 018 0zm0 13a.75.75 0 01.75.75v1.5a.75.75 0 01-1.5 0v-1.5A.75.75 0 018 13zM2.343 2.343a.75.75 0 011.061 0l1.06 1.061a.75.75 0 01-1.06 1.06l-1.06-1.06a.75.75 0 010-1.06zm9.193 9.193a.75.75 0 011.06 0l1.061 1.06a.75.75 0 01-1.06 1.061l-1.061-1.06a.75.75 0 010-1.061zM16 8a.75.75 0 01-.75.75h-1.5a.75.75 0 010-1.5h1.5A.75.75 0 0116 8zM3 8a.75.75 0 01-.75.75H.75a.75.75 0 010-1.5h1.5A.75.75 0 013 8zm10.657-5.657a.75.75 0 010 1.061l-1.061 1.06a.75.75 0 11-1.06-1.06l1.06-1.06a.75.75 0 011.06 0zm-9.193 9.193a.75.75 0 010 1.06l-1.06 1.061a.75.75 0 11-1.061-1.06l1.06-1.061a.75.75 0 011.061 0z', 'moon': 'M9.598 1.591a.75.75 0 01.785-.175 7 7 0 11-8.967 8.967.75.75 0 01.961-.96 5.5 5.5 0 007.046-7.046.75.75 0 01.175-.786zm1.616 1.945a7 7 0 01-7.678 7.678 5.5 5.5 0 107.678-7.678z', 'sync': 'M1.705 8.005a.75.75 0 0 1 .834.656 5.5 5.5 0 0 0 9.592 2.97l-1.204-1.204a.25.25 0 0 1 .177-.427h3.646a.25.25 0 0 1 .25.25v3.646a.25.25 0 0 1-.427.177l-1.38-1.38A7.002 7.002 0 0 1 1.05 8.84a.75.75 0 0 1 .656-.834ZM8 2.5a5.487 5.487 0 0 0-4.131 1.869l1.204 1.204A.25.25 0 0 1 4.896 6H1.25A.25.25 0 0 1 1 5.75V2.104a.25.25 0 0 1 .427-.177l1.38 1.38A7.002 7.002 0 0 1 14.95 7.16a.75.75 0 0 1-1.49.178A5.5 5.5 0 0 0 8 2.5Z', 'home': 'M6.906.664a1.749 1.749 0 0 1 2.187 0l5.25 4.2c.415.332.657.835.657 1.367v7.019A1.75 1.75 0 0 1 13.25 15h-3.5a.75.75 0 0 1-.75-.75V9H7v5.25a.75.75 0 0 1-.75.75h-3.5A1.75 1.75 0 0 1 1 13.25V6.23c0-.531.242-1.034.657-1.366l5.25-4.2Zm1.25 1.171a.25.25 0 0 0-.312 0l-5.25 4.2a.25.25 0 0 0-.094.196v7.019c0 .138.112.25.25.25H5.5V8.25a.75.75 0 0 1 .75-.75h3.5a.75.75 0 0 1 .75.75v5.25h2.75a.25.25 0 0 0 .25-.25V6.23a.25.25 0 0 0-.094-.195Z', 'github': 'M8 0c4.42 0 8 3.58 8 8a8.013 8.013 0 0 1-5.45 7.59c-.4.08-.55-.17-.55-.38 0-.27.01-1.13.01-2.2 0-.75-.25-1.23-.54-1.48 1.78-.2 3.65-.88 3.65-3.95 0-.88-.31-1.59-.82-2.15.08-.2.36-1.02-.08-2.12 0 0-.67-.22-2.2.82-.64-.18-1.32-.27-2-.27-.68 0-1.36.09-2 .27-1.53-1.03-2.2-.82-2.2-.82-.44 1.1-.16 1.92-.08 2.12-.51.56-.82 1.28-.82 2.15 0 3.06 1.86 3.75 3.64 3.95-.23.2-.44.55-.51 1.07-.46.21-1.61.55-2.33-.66-.15-.24-.6-.83-1.23-.82-.67.01-.27.38.01.53.34.19.73.9.82 1.13.16.45.68 1.31 2.69.94 0 .67.01 1.3.01 1.49 0 .21-.15.45-.55.38A7.995 7.995 0 0 1 0 8c0-4.42 3.58-8 8-8Z'};
var utterancesLoad=0;

let themeSettings={
    "dark": ["dark","moon","#00f0ff","dark-blue"],
    "light": ["light","sun","#ff5000","github-light"],
    "auto": ["auto","sync","","preferred-color-scheme"]
};
function changeTheme(mode, icon, color, utheme){
    document.documentElement.setAttribute("data-color-mode",mode);
    document.getElementById("themeSwitch").setAttribute("d",value=IconList[icon]);
    document.getElementById("themeSwitch").parentNode.style.color=color;
    if(utterancesLoad==1){utterancesTheme(utheme);}
}
function modeSwitch(){
    let currentMode=document.documentElement.getAttribute('data-color-mode');
    let newMode = currentMode === "light" ? "dark" : currentMode === "dark" ? "auto" : "light";
    localStorage.setItem("meek_theme", newMode);
    if(themeSettings[newMode]){
        changeTheme(...themeSettings[newMode]);
    }
}
function utterancesTheme(theme){
    const message={type:'set-theme',theme: theme};
    const iframe=document.getElementsByClassName('utterances-frame')[0];
    iframe.contentWindow.postMessage(message,'https://utteranc.es');
}
if(themeSettings[theme]){changeTheme(...themeSettings[theme]);}
console.log("\n %c Gmeek last https://github.com/Meekdai/Gmeek \n","padding:5px 0;background:#02d81d;color:#fff");
</script>

<script>
document.getElementById("pathHome").setAttribute("d",IconList["home"]);
document.getElementById("pathIssue").setAttribute("d",IconList["github"]);



function openComments(){
    cm=document.getElementById("comments");
    cmButton=document.getElementById("cmButton");
    cmButton.disabled=true;
    cmButton.innerHTML="loading";
    span=document.createElement("span");
    span.setAttribute("class","AnimatedEllipsis");
    cmButton.appendChild(span);

    script=document.createElement("script");
    script.setAttribute("src","https://utteranc.es/client.js");
    script.setAttribute("repo","LuminKu/luminku.github.io");
    script.setAttribute("issue-term","title");
    
    if(localStorage.getItem("meek_theme")=="dark"){script.setAttribute("theme","dark-blue");}
    else if(localStorage.getItem("meek_theme")=="light") {script.setAttribute("theme","github-light");}
    else{script.setAttribute("theme","preferred-color-scheme");}
    
    script.setAttribute("crossorigin","anonymous");
    script.setAttribute("async","");
    cm.appendChild(script);

    int=self.setInterval("iFrameLoading()",200);
}

function iFrameLoading(){
    var utterances=document.getElementsByClassName('utterances');
    if(utterances.length==1){
        if(utterances[0].style.height!=""){
            utterancesLoad=1;
            int=window.clearInterval(int);
            document.getElementById("cmButton").style.display="none";
            console.log("utterances Load OK");
        }
    }
}



</script>


</html>
